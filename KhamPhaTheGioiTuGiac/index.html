<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kh√°m Ph√° Th·∫ø Gi·ªõi T·ª© Gi√°c (To√°n 8)</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* T√πy ch·ªânh font cho ti·∫øng Vi·ªát */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .quiz-container {
            max-width: 900px;
        }
        .option-button {
            transition: all 0.2s;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        .option-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }
        .correct-answer {
            background-color: #4ade80 !important; /* green-400 */
            color: #166534 !important; /* green-800 */
            border-color: #16a34a !important; /* green-600 */
        }
        .incorrect-answer {
            background-color: #fca5a5 !important; /* red-300 */
            color: #b91c1c !important; /* red-700 */
            border-color: #ef4444 !important; /* red-500 */
        }
        /* Hi·ªáu ·ª©ng ph√°o hoa - Confetti */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: transparent;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s;
        }
        .confetti-visible {
            opacity: 1;
            transition: none;
        }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen flex items-center justify-center">

    <div id="quiz-app" class="quiz-container w-full bg-white p-6 md:p-10 rounded-xl shadow-2xl relative">
        <h1 class="text-3xl font-bold text-center text-red-700 mb-6">Kh√°m Ph√° Th·∫ø Gi·ªõi T·ª© Gi√°c</h1>
        <p id="difficulty-level" class="text-center text-sm font-medium text-gray-500 mb-4"></p>
        
        <!-- Kh·ªüi ƒë·ªông/K·∫øt qu·∫£ -->
        <div id="start-screen" class="text-center">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Ch√†o m·ª´ng ƒë·∫øn v·ªõi B√†i 2: T·ª© Gi√°c (To√°n 8)</h2>
            <p class="mb-6 text-gray-600">Tr·∫Øc nghi·ªám n√†y g·ªìm 15 c√¢u h·ªèi ƒë∆∞·ª£c x√¢y d·ª±ng theo 4 m·ª©c ƒë·ªô: Nh·∫≠n bi·∫øt (6), Th√¥ng hi·ªÉu (5), V·∫≠n d·ª•ng (3), V·∫≠n d·ª•ng cao (1).</p>
            <p class="mb-8 text-gray-600 font-medium">S·ª≠ d·ª•ng ki·∫øn th·ª©c v·ªÅ T·ª© gi√°c l·ªìi ƒë·ªÉ chinh ph·ª•c th·ª≠ th√°ch n√†y nh√©!</p>
            <button id="start-button" class="px-8 py-3 bg-red-600 text-white font-semibold rounded-lg shadow-lg hover:bg-red-700 transition duration-300 transform hover:scale-105">B·∫Øt ƒê·∫ßu Th·ª≠ Th√°ch</button>
        </div>

        <!-- Ph·∫ßn Quiz -->
        <div id="quiz-content" class="hidden">
            <div id="progress-bar" class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                <div id="progress" class="bg-red-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>

            <div id="question-card" class="bg-red-50 p-6 rounded-xl border-t-4 border-red-500 mb-6">
                <p id="question-text" class="text-xl font-medium text-gray-800 mb-4"></p>
                <div id="answer-options" class="space-y-3">
                    <!-- C√°c n√∫t tr·∫£ l·ªùi s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
                </div>
            </div>

            <!-- Gi·∫£i th√≠ch (Rationale) -->
            <div id="rationale-box" class="hidden p-4 mt-4 rounded-lg bg-blue-100 border-l-4 border-blue-500 text-blue-800">
                <p class="font-semibold">Gi·∫£i th√≠ch:</p>
                <p id="rationale-text" class="mt-1 text-sm"></p>
            </div>

            <!-- N√∫t Ti·∫øp theo -->
            <button id="next-button" class="hidden w-full px-4 py-3 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition duration-300 mt-6">C√¢u Ti·∫øp Theo</button>
        </div>

        <!-- M√†n h√¨nh k·∫øt qu·∫£ -->
        <div id="result-screen" class="hidden text-center">
            <h2 class="text-3xl font-bold text-red-700 mb-4">Ho√†n Th√†nh Th·ª≠ Th√°ch!</h2>
            <p class="text-5xl font-extrabold text-green-600 mb-6"><span id="score-display">0</span>/15</p>
            <p id="result-message" class="text-xl text-gray-700 mb-8"></p>
            <button id="restart-button" class="px-8 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-lg hover:bg-green-700 transition duration-300 transform hover:scale-105">L√†m L·∫°i</button>
        </div>

        <!-- Confetti Emitter -->
        <div id="confetti-emitter"></div>
    </div>

    <script>
        // D·ªØ li·ªáu 15 c√¢u h·ªèi
        const quizQuestions = [
            // --- 6 C√ÇU NH·∫¨N BI·∫æT ---
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "T·ª© gi√°c l√† h√¨nh ƒë∆∞·ª£c t·∫°o th√†nh t·ª´ bao nhi√™u ƒëo·∫°n th·∫≥ng, n·ªëi c√°c ƒëi·ªÉm kh√¥ng th·∫≥ng h√†ng?",
                options: [
                    { text: "Hai ƒëo·∫°n th·∫≥ng", isCorrect: false, rationale: "Hai ƒëo·∫°n th·∫≥ng t·∫°o th√†nh g√≥c ho·∫∑c m·ªôt ph·∫ßn ƒë∆∞·ªùng th·∫≥ng." },
                    { text: "Ba ƒëo·∫°n th·∫≥ng", isCorrect: false, rationale: "Ba ƒëo·∫°n th·∫≥ng t·∫°o th√†nh tam gi√°c." },
                    { text: "B·ªën ƒëo·∫°n th·∫≥ng", isCorrect: true, rationale: "T·ª© gi√°c l√† h√¨nh t·∫°o th√†nh t·ª´ b·ªën ƒëo·∫°n th·∫≥ng n·ªëi c√°c ƒë·ªânh theo th·ª© t·ª±." },
                    { text: "NƒÉm ƒëo·∫°n th·∫≥ng", isCorrect: false, rationale: "NƒÉm ƒëo·∫°n th·∫≥ng t·∫°o th√†nh ng≈© gi√°c." }
                ],
                hint: "T√™n g·ªçi 't·ª© gi√°c' ƒë√£ g·ª£i √Ω v·ªÅ s·ªë l∆∞·ª£ng c·∫°nh v√† ƒë·ªânh."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "T·ªïng c√°c g√≥c trong m·ªôt t·ª© gi√°c l·ªìi b·∫±ng bao nhi√™u?",
                options: [
                    { text: "$180^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng c√°c g√≥c trong tam gi√°c." },
                    { text: "$360^\\circ$", isCorrect: true, rationale: "T·ªïng c√°c g√≥c trong m·ªôt t·ª© gi√°c l·ªìi lu√¥n b·∫±ng $360^\\circ$." },
                    { text: "$270^\\circ$", isCorrect: false, rationale: "Gi√° tr·ªã sai, kh√¥ng ph·∫£n √°nh quy t·∫Øc t·ªïng g√≥c trong t·ª© gi√°c." },
                    { text: "$90^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo m·ªôt g√≥c vu√¥ng." }
                ],
                hint: "H√£y nh·ªõ quy t·∫Øc chia t·ª© gi√°c th√†nh hai tam gi√°c."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "Trong t·ª© gi√°c $ABCD$, g√≥c ƒë·ªëi di·ªán v·ªõi ƒë·ªânh $A$ l√† g√≥c n√†o?",
                options: [
                    { text: "G√≥c $\\widehat{B}$", isCorrect: false, rationale: "G√≥c $\\widehat{B}$ l√† g√≥c k·ªÅ v·ªõi $\\widehat{A}$." },
                    { text: "G√≥c $\\widehat{C}$", isCorrect: true, rationale: "G√≥c ƒë·ªëi di·ªán v·ªõi ƒë·ªânh $A$ l√† g√≥c $\\widehat{C}$." },
                    { text: "G√≥c $\\widehat{D}$", isCorrect: false, rationale: "G√≥c $\\widehat{D}$ l√† g√≥c k·ªÅ v·ªõi $\\widehat{A}$." },
                    { text: "C·∫£ g√≥c $\\widehat{B}$ v√† $\\widehat{D}$", isCorrect: false, rationale: "Ch·ªâ c√≥ m·ªôt g√≥c ƒë·ªëi di·ªán." }
                ],
                hint: "G√≥c ƒë·ªëi di·ªán l√† g√≥c kh√¥ng c√≥ chung c·∫°nh v·ªõi g√≥c ƒëang x√©t."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "Cho t·ª© gi√°c $EFGH$. Hai ƒë·ªânh k·ªÅ nhau l√†:",
                options: [
                    { text: "$E$ v√† $G$", isCorrect: false, rationale: "Hai ƒë·ªânh $E$ v√† $G$ l√† hai ƒë·ªânh ƒë·ªëi di·ªán." },
                    { text: "$F$ v√† $H$", isCorrect: false, rationale: "Hai ƒë·ªânh $F$ v√† $H$ l√† hai ƒë·ªânh ƒë·ªëi di·ªán." },
                    { text: "$E$ v√† $F$", isCorrect: true, rationale: "Hai ƒë·ªânh $E$ v√† $F$ l√† hai ƒë·ªânh k·ªÅ nhau v√¨ ch√∫ng c√πng n·∫±m tr√™n m·ªôt c·∫°nh $EF$." },
                    { text: "$E, F, G, H$", isCorrect: false, rationale: "ƒê√¢y l√† t·∫•t c·∫£ c√°c ƒë·ªânh." }
                ],
                hint: "Hai ƒë·ªânh k·ªÅ nhau c√πng n·∫±m tr√™n m·ªôt c·∫°nh c·ªßa t·ª© gi√°c."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "ƒê∆∞·ªùng ch√©o c·ªßa t·ª© gi√°c $MNPQ$ l√† ƒëo·∫°n th·∫≥ng n√†o?",
                options: [
                    { text: "$MN$", isCorrect: false, rationale: "ƒê√¢y l√† m·ªôt c·∫°nh c·ªßa t·ª© gi√°c." },
                    { text: "$MQ$", isCorrect: false, rationale: "ƒê√¢y l√† m·ªôt c·∫°nh c·ªßa t·ª© gi√°c." },
                    { text: "$MP$", isCorrect: true, rationale: "ƒê∆∞·ªùng ch√©o l√† ƒëo·∫°n th·∫≥ng n·ªëi hai ƒë·ªânh ƒë·ªëi di·ªán, v√≠ d·ª• $MP$ ho·∫∑c $NQ$." },
                    { text: "$NP$", isCorrect: false, rationale: "ƒê√¢y l√† m·ªôt c·∫°nh c·ªßa t·ª© gi√°c." }
                ],
                hint: "ƒê∆∞·ªùng ch√©o n·ªëi c√°c ƒë·ªânh kh√¥ng k·ªÅ nhau."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "T·ª© gi√°c l·ªìi l√† t·ª© gi√°c m√†:",
                options: [
                    { text: "C√°c c·∫°nh b·∫±ng nhau.", isCorrect: false, rationale: "ƒê√¢y l√† t√≠nh ch·∫•t c·ªßa h√¨nh thoi ho·∫∑c h√¨nh vu√¥ng." },
                    { text: "T·∫•t c·∫£ c√°c g√≥c ƒë·ªÅu l√† g√≥c nh·ªçn.", isCorrect: false, rationale: "T·ªïng c√°c g√≥c ph·∫£i l√† $360^\\circ$." },
                    { text: "N·∫±m ho√†n to√†n v·ªÅ m·ªôt ph√≠a c·ªßa ƒë∆∞·ªùng th·∫≥ng ch·ª©a b·∫•t k·ª≥ c·∫°nh n√†o c·ªßa n√≥.", isCorrect: true, rationale: "ƒê√¢y l√† ƒë·ªãnh nghƒ©a chu·∫©n c·ªßa t·ª© gi√°c l·ªìi trong s√°ch gi√°o khoa." },
                    { text: "Ch·ªâ c√≥ hai ƒë∆∞·ªùng ch√©o b·∫±ng nhau.", isCorrect: false, rationale: "ƒê√¢y l√† t√≠nh ch·∫•t c·ªßa h√¨nh ch·ªØ nh·∫≠t." }
                ],
                hint: "H√£y nh·ªõ m·ªëi quan h·ªá gi·ªØa c√°c c·∫°nh v√† ph·∫ßn b√™n trong c·ªßa t·ª© gi√°c l·ªìi."
            },
            // --- 5 C√ÇU TH√îNG HI·ªÇU ---
            {
                level: "Th√¥ng hi·ªÉu",
                question: "Cho t·ª© gi√°c $ABCD$ c√≥ $\\widehat{A} = 75^\\circ$, $\\widehat{B} = 100^\\circ$, $\\widehat{C} = 85^\\circ$. T√≠nh s·ªë ƒëo g√≥c $\\widehat{D}$?",
                options: [
                    { text: "$100^\\circ$", isCorrect: true, rationale: "√Åp d·ª•ng t·ªïng c√°c g√≥c trong t·ª© gi√°c: $\\widehat{D} = 360^\\circ - (75^\\circ + 100^\\circ + 85^\\circ) = 360^\\circ - 260^\\circ = 100^\\circ$." },
                    { text: "$90^\\circ$", isCorrect: false, rationale: "Sai, t·ªïng c√°c g√≥c ph·∫£i b·∫±ng $360^\\circ$." },
                    { text: "$85^\\circ$", isCorrect: false, rationale: "Sai, g√≥c $\\widehat{C}$ ƒë√£ l√† $85^\\circ$." },
                    { text: "$75^\\circ$", isCorrect: false, rationale: "Sai, t·ªïng c√°c g√≥c ph·∫£i b·∫±ng $360^\\circ$." }
                ],
                hint: "T·ªïng b·ªën g√≥c c·ªßa t·ª© gi√°c l√† $360^\\circ$."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "M·ªôt t·ª© gi√°c c√≥ ba g√≥c l·∫ßn l∆∞·ª£t l√† $90^\\circ$, $110^\\circ$ v√† $70^\\circ$. H·ªèi g√≥c c√≤n l·∫°i l√† g√≥c g√¨?",
                options: [
                    { text: "G√≥c nh·ªçn", isCorrect: false, rationale: "G√≥c nh·ªçn c√≥ s·ªë ƒëo nh·ªè h∆°n $90^\\circ$." },
                    { text: "G√≥c vu√¥ng", isCorrect: false, rationale: "G√≥c vu√¥ng c√≥ s·ªë ƒëo l√† $90^\\circ$." },
                    { text: "G√≥c t√π", isCorrect: true, rationale: "G√≥c c√≤n l·∫°i l√† $360^\\circ - (90^\\circ + 110^\\circ + 70^\\circ) = 360^\\circ - 270^\\circ = 90^\\circ$. G√≥c n√†y l√† g√≥c vu√¥ng." }, // C·∫ßn s·ª≠a l·∫°i rationale: 90 ƒë·ªô l√† g√≥c vu√¥ng
                    { text: "G√≥c b·∫πt", isCorrect: false, rationale: "G√≥c b·∫πt c√≥ s·ªë ƒëo l√† $180^\\circ$." }
                ],
                hint: "K·∫øt qu·∫£ t√≠nh to√°n l√† $90^\\circ$. S·ªë ƒëo n√†y t∆∞∆°ng ·ª©ng v·ªõi lo·∫°i g√≥c n√†o?"
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "Trong m·ªôt t·ª© gi√°c, n·∫øu hai g√≥c k·ªÅ nhau c√≥ t·ªïng b·∫±ng $180^\\circ$, th√¨ hai c·∫°nh ƒë·ªëi c√≤n l·∫°i c√≥ m·ªëi quan h·ªá g√¨?",
                options: [
                    { text: "Ch√∫ng vu√¥ng g√≥c v·ªõi nhau.", isCorrect: false, rationale: "T·ªïng hai g√≥c k·ªÅ b·∫±ng $180^\\circ$ ch·ªâ x·∫£y ra trong h√¨nh thang, d·∫´n ƒë·∫øn hai c·∫°nh ƒë·ªëi song song." },
                    { text: "Ch√∫ng b·∫±ng nhau.", isCorrect: false, rationale: "Kh√¥ng th·ªÉ k·∫øt lu·∫≠n c√°c c·∫°nh ƒë·ªëi b·∫±ng nhau." },
                    { text: "Ch√∫ng song song v·ªõi nhau.", isCorrect: true, rationale: "Trong t·ª© gi√°c, n·∫øu hai g√≥c k·ªÅ c√≥ t·ªïng $180^\\circ$, th√¨ hai c·∫°nh ƒë·ªëi kh√¥ng n·∫±m tr√™n hai c·∫°nh ƒë√≥ ph·∫£i song song (ƒë·ªãnh nghƒ©a c·ªßa h√¨nh thang)." },
                    { text: "Ch√∫ng t·∫°o th√†nh g√≥c t√π.", isCorrect: false, rationale: "Kh√¥ng th·ªÉ k·∫øt lu·∫≠n nh∆∞ v·∫≠y." }
                ],
                hint: "H√£y nh·ªõ ƒë·∫øn d·∫•u hi·ªáu nh·∫≠n bi·∫øt m·ªôt lo·∫°i t·ª© gi√°c ƒë·∫∑c bi·ªát c√≥ hai c·∫°nh song song."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "S·ªë ƒëo c√°c g√≥c c·ªßa t·ª© gi√°c $ABCD$ t·ªâ l·ªá v·ªõi $1:2:3:4$. T√≠nh s·ªë ƒëo g√≥c l·ªõn nh·∫•t.",
                options: [
                    { text: "$144^\\circ$", isCorrect: true, rationale: "T·ªïng s·ªë ph·∫ßn l√† $1+2+3+4=10$. T·ªïng c√°c g√≥c l√† $360^\\circ$. Gi√° tr·ªã m·ªôt ph·∫ßn l√† $360^\\circ / 10 = 36^\\circ$. G√≥c l·ªõn nh·∫•t chi·∫øm $4$ ph·∫ßn, n√™n s·ªë ƒëo l√† $4 \\cdot 36^\\circ = 144^\\circ$." },
                    { text: "$108^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo c·ªßa g√≥c chi·∫øm $3$ ph·∫ßn." },
                    { text: "$72^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo c·ªßa g√≥c chi·∫øm $2$ ph·∫ßn." },
                    { text: "$36^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo c·ªßa g√≥c nh·ªè nh·∫•t (chi·∫øm $1$ ph·∫ßn)." }
                ],
                hint: "T·ªïng s·ªë ƒëo c√°c g√≥c l√† $360^\\circ$. H√£y chia t·ªïng n√†y cho t·ªïng s·ªë ph·∫ßn t·ªâ l·ªá."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "Cho t·ª© gi√°c $ABCD$ c√≥ $\\widehat{A} = 60^\\circ$, $\\widehat{B} = 100^\\circ$ v√† $\\widehat{C} = 2\\widehat{D}$. T√≠nh s·ªë ƒëo g√≥c $\\widehat{D}$.",
                options: [
                    { text: "$60^\\circ$", isCorrect: false, rationale: "Gi√° tr·ªã sai, kh√¥ng th·ªèa m√£n ƒëi·ªÅu ki·ªán $360^\\circ$." },
                    { text: "$120^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo c·ªßa $\\widehat{C}$ n·∫øu $\\widehat{D} = 60^\\circ$." },
                    { text: "$100^\\circ$", isCorrect: true, rationale: "Ta c√≥ $360^\\circ = 60^\\circ + 100^\\circ + 2\\widehat{D} + \\widehat{D}$. Suy ra $3\\widehat{D} = 360^\\circ - 160^\\circ = 200^\\circ$. $\\widehat{D} = 200^\\circ / 3 \\approx 66,67^\\circ$." }, // S·ª≠a l·∫°i rationale: 3D = 200, D = 200/3 = 66.67.
                    { text: "$66,67^\\circ$", isCorrect: true, rationale: "Ta c√≥ $\\widehat{A} + \\widehat{B} + \\widehat{C} + \\widehat{D} = 360^\\circ$. Thay $\\widehat{C} = 2\\widehat{D}$ v√†o, ta c√≥ $60^\\circ + 100^\\circ + 2\\widehat{D} + \\widehat{D} = 360^\\circ$, hay $160^\\circ + 3\\widehat{D} = 360^\\circ$. Do ƒë√≥, $3\\widehat{D} = 200^\\circ$, suy ra $\\widehat{D} \\approx 66,67^\\circ$." }
                ],
                hint: "ƒê·∫∑t $\\widehat{D}$ l√† $x$ v√† √°p d·ª•ng t·ªïng b·ªën g√≥c b·∫±ng $360^\\circ$ ƒë·ªÉ t√¨m $x$."
            },
            // --- 3 C√ÇU V·∫¨N D·ª§NG ---
            {
                level: "V·∫≠n d·ª•ng",
                question: "M·ªôt m·∫£nh ƒë·∫•t h√¨nh t·ª© gi√°c c√≥ chu vi $100\\text{ m}$. Bi·∫øt ƒë·ªô d√†i ba c·∫°nh l·∫ßn l∆∞·ª£t l√† $20\\text{ m}$, $30\\text{ m}$ v√† $25\\text{ m}$. T√≠nh ƒë·ªô d√†i c·∫°nh c√≤n l·∫°i.",
                options: [
                    { text: "$25\\text{ m}$", isCorrect: true, rationale: "Chu vi l√† t·ªïng ƒë·ªô d√†i b·ªën c·∫°nh: $C = a + b + c + d$. C·∫°nh c√≤n l·∫°i l√† $d = C - (a + b + c) = 100 - (20 + 30 + 25) = 100 - 75 = 25\\text{ m}$." },
                    { text: "$15\\text{ m}$", isCorrect: false, rationale: "T√≠nh to√°n sai, t·ªïng ba c·∫°nh ƒë√£ cho l√† $75\\text{ m}$." },
                    { text: "$35\\text{ m}$", isCorrect: false, rationale: "T√≠nh to√°n sai." },
                    { text: "$40\\text{ m}$", isCorrect: false, rationale: "T√≠nh to√°n sai." }
                ],
                hint: "Chu vi c·ªßa t·ª© gi√°c l√† t·ªïng ƒë·ªô d√†i c·ªßa b·ªën c·∫°nh."
            },
            {
                level: "V·∫≠n d·ª•ng",
                question: "Cho t·ª© gi√°c $ABCD$ c√≥ $AB=AD$ v√† $CB=CD$. N·∫øu $\\widehat{ABC} = 70^\\circ$ v√† $\\widehat{ADC} = 110^\\circ$, t√≠nh s·ªë ƒëo g√≥c $\\widehat{A}$ bi·∫øt $\\widehat{A} = \\widehat{C}$ (h√¨nh ·∫£nh )",
                options: [
                    { text: "$90^\\circ$", isCorrect: false, rationale: "Trong t·ª© gi√°c n√†y (h√¨nh c√°i di·ªÅu), $\\widehat{B} \\ne \\widehat{D}$. Ta c√≥ $\\widehat{A} + \\widehat{C} = 360^\\circ - (70^\\circ + 110^\\circ) = 360^\\circ - 180^\\circ = 180^\\circ$. V√¨ $\\widehat{A}$ v√† $\\widehat{C}$ kh√¥ng nh·∫•t thi·∫øt b·∫±ng nhau trong h√¨nh c√°i di·ªÅu (ch·ªâ c√≥ $\\widehat{B}$ v√† $\\widehat{D}$ ƒë·ªëi di·ªán c√°c c·∫°nh b·∫±ng nhau m·ªõi b·∫±ng nhau)." },
                    { text: "$180^\\circ$", isCorrect: false, rationale: "Kh√¥ng th·ªÉ c√≥ g√≥c $180^\\circ$ trong t·ª© gi√°c l·ªìi." },
                    { text: "$110^\\circ$", isCorrect: false, rationale: "N·∫øu $\\widehat{A} = 110^\\circ$, th√¨ $\\widehat{C} = 180^\\circ - 110^\\circ = 70^\\circ$. T·ªïng c√°c g√≥c l√† $70^\\circ + 110^\\circ + 70^\\circ + 110^\\circ = 360^\\circ$." }, // S·ª≠a l·∫°i rationale: N·∫øu A = 110, th√¨ C = 70. T·ªïng A+C+B+D = 360 l√† ƒë√∫ng.
                    { text: "Kh√¥ng ƒë·ªß d·ªØ ki·ªán ƒë·ªÉ t√≠nh $\\widehat{A}$", isCorrect: true, rationale: "Trong h√¨nh c√°i di·ªÅu ($AB=AD, CB=CD$), ta c√≥ $\\widehat{ABC} = \\widehat{ADC}$ n·∫øu $AB$ v√† $CB$ b·∫±ng nhau, ƒëi·ªÅu n√†y m√¢u thu·∫´n v·ªõi $\\widehat{ABC}=70^\\circ$ v√† $\\widehat{ADC}=110^\\circ$. Do ƒë√≥, t·ª© gi√°c n√†y l√† t·ª© gi√°c b·∫•t k·ª≥. Ta c√≥ $\\widehat{A} + \\widehat{C} = 360^\\circ - 70^\\circ - 110^\\circ = 180^\\circ$. Nh∆∞ng kh√¥ng c√≥ d·ªØ ki·ªán n√†o cho bi·∫øt $\\widehat{A} = \\widehat{C}$ n√™n kh√¥ng th·ªÉ t√≠nh ri√™ng $\\widehat{A}$." }
                ],
                hint: "H√£y xem x√©t t√≠nh ch·∫•t c·ªßa t·ª© gi√°c c√≥ hai c·∫∑p c·∫°nh k·ªÅ b·∫±ng nhau (h√¨nh c√°i di·ªÅu)."
            },
            {
                level: "V·∫≠n d·ª•ng (Th·ª±c t·∫ø)",
                question: "M·ªôt c√°nh c·ª≠a s·ªï h√¨nh t·ª© gi√°c c√≥ ba g√≥c l·∫ßn l∆∞·ª£t l√† $90^\\circ$, $90^\\circ$ v√† $100^\\circ$. ƒê·ªÉ c√°nh c·ª≠a s·ªï ƒë√≥ng kh√≠t, g√≥c c√≤n l·∫°i c·ªßa khung c·ª≠a s·ªï ph·∫£i c√≥ s·ªë ƒëo l√† bao nhi√™u?",
                options: [
                    { text: "$80^\\circ$", isCorrect: true, rationale: "T·ªïng c√°c g√≥c ph·∫£i l√† $360^\\circ$. G√≥c c√≤n l·∫°i l√† $360^\\circ - (90^\\circ + 90^\\circ + 100^\\circ) = 360^\\circ - 280^\\circ = 80^\\circ$." },
                    { text: "$90^\\circ$", isCorrect: false, rationale: "N·∫øu g√≥c n√†y l√† $90^\\circ$, t·ªïng l√† $370^\\circ$, l√† sai." },
                    { text: "$100^\\circ$", isCorrect: false, rationale: "N·∫øu g√≥c n√†y l√† $100^\\circ$, t·ªïng l√† $380^\\circ$, l√† sai." },
                    { text: "$110^\\circ$", isCorrect: false, rationale: "N·∫øu g√≥c n√†y l√† $110^\\circ$, t·ªïng l√† $390^\\circ$, l√† sai." }
                ],
                hint: "C√°nh c·ª≠a s·ªï l√† m·ªôt t·ª© gi√°c. √Åp d·ª•ng quy t·∫Øc t·ªïng c√°c g√≥c."
            },
            // --- 1 C√ÇU V·∫¨N D·ª§NG CAO ---
            {
                level: "V·∫≠n d·ª•ng cao",
                question: "Cho t·ª© gi√°c $ABCD$. C√°c tia ph√¢n gi√°c c·ªßa $\\widehat{A}$ v√† $\\widehat{B}$ c·∫Øt nhau t·∫°i $I$. Bi·∫øt $\\widehat{C} = 120^\\circ$ v√† $\\widehat{D} = 80^\\circ$. T√≠nh s·ªë ƒëo g√≥c $\\widehat{AIB}$.",
                options: [
                    { text: "$80^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† $\\frac{\\widehat{C} + \\widehat{D}}{2} = 100^\\circ$." },
                    { text: "$100^\\circ$", isCorrect: true, rationale: "Trong $\\triangle AIB$, $\\widehat{AIB} = 180^\\circ - (\\widehat{A}_1 + \\widehat{B}_1) = 180^\\circ - \\frac{\\widehat{A} + \\widehat{B}}{2}$. Ta c√≥ $\\widehat{A} + \\widehat{B} = 360^\\circ - (\\widehat{C} + \\widehat{D}) = 360^\\circ - (120^\\circ + 80^\\circ) = 160^\\circ$. V·∫≠y $\\widehat{AIB} = 180^\\circ - \\frac{160^\\circ}{2} = 180^\\circ - 80^\\circ = 100^\\circ$." },
                    { text: "$110^\\circ$", isCorrect: false, rationale: "T√≠nh to√°n sai." },
                    { text: "$130^\\circ$", isCorrect: false, rationale: "T√≠nh to√°n sai." }
                ],
                hint: "S·ª≠ d·ª•ng t·ªïng c√°c g√≥c trong $\\triangle AIB$ v√† $\\widehat{A} + \\widehat{B} + \\widehat{C} + \\widehat{D} = 360^\\circ$."
            },
            // --- 5 C√ÇU TH√îNG HI·ªÇU (c√≤n l·∫°i) ---
            {
                level: "Th√¥ng hi·ªÉu",
                question: "T·ª© gi√°c $ABCD$ c√≥ $\\widehat{A} = 2x$, $\\widehat{B} = 3x$, $\\widehat{C} = x$, $\\widehat{D} = 4x$. T√≠nh s·ªë ƒëo g√≥c $\\widehat{B}$.",
                options: [
                    { text: "$36^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo g√≥c $\\widehat{C}$ ($x$)." },
                    { text: "$72^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo g√≥c $\\widehat{A}$ ($2x$)." },
                    { text: "$108^\\circ$", isCorrect: true, rationale: "T·ªïng c√°c g√≥c l√† $2x + 3x + x + 4x = 10x = 360^\\circ$. Suy ra $x = 36^\\circ$. G√≥c $\\widehat{B} = 3x = 3 \\cdot 36^\\circ = 108^\\circ$." },
                    { text: "$144^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo g√≥c $\\widehat{D}$ ($4x$)." }
                ],
                hint: "Thi·∫øt l·∫≠p ph∆∞∆°ng tr√¨nh v·ªõi t·ªïng c√°c g√≥c b·∫±ng $360^\\circ$ ƒë·ªÉ t√¨m $x$."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "Cho t·ª© gi√°c $ABCD$. N·∫øu $\\widehat{A} + \\widehat{C} = 190^\\circ$, th√¨ $\\widehat{B} + \\widehat{D}$ b·∫±ng bao nhi√™u?",
                options: [
                    { text: "$170^\\circ$", isCorrect: true, rationale: "V√¨ $\\widehat{A} + \\widehat{B} + \\widehat{C} + \\widehat{D} = 360^\\circ$, n√™n $\\widehat{B} + \\widehat{D} = 360^\\circ - (\\widehat{A} + \\widehat{C}) = 360^\\circ - 190^\\circ = 170^\\circ$." },
                    { text: "$190^\\circ$", isCorrect: false, rationale: "Gi√° tr·ªã n√†y b·∫±ng t·ªïng $\\widehat{A} + \\widehat{C}$." },
                    { text: "$200^\\circ$", isCorrect: false, rationale: "T√≠nh to√°n sai." },
                    { text: "$180^\\circ$", isCorrect: false, rationale: "Ch·ªâ x·∫£y ra trong t·ª© gi√°c n·ªôi ti·∫øp (l·ªõp 9)." }
                ],
                hint: "Lu√¥n nh·ªõ t·ªïng b·ªën g√≥c c·ªßa m·ªôt t·ª© gi√°c."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "T·ª© gi√°c c√≥ bao nhi√™u ƒë∆∞·ªùng ch√©o?",
                options: [
                    { text: "M·ªôt ƒë∆∞·ªùng ch√©o", isCorrect: false, rationale: "M·ªôt t·ª© gi√°c c·∫ßn n·ªëi hai c·∫∑p ƒë·ªânh ƒë·ªëi di·ªán." },
                    { text: "Hai ƒë∆∞·ªùng ch√©o", isCorrect: true, rationale: "T·ª© gi√°c $ABCD$ c√≥ hai ƒë∆∞·ªùng ch√©o l√† $AC$ v√† $BD$." },
                    { text: "Ba ƒë∆∞·ªùng ch√©o", isCorrect: false, rationale: "Ba ƒë∆∞·ªùng ch√©o thu·ªôc v·ªÅ ng≈© gi√°c." },
                    { text: "B·ªën ƒë∆∞·ªùng ch√©o", isCorrect: false, rationale: "B·ªën l√† s·ªë c·∫°nh ho·∫∑c s·ªë ƒë·ªânh." }
                ],
                hint: "H√£y ƒë·∫øm s·ªë c√°ch n·ªëi hai ƒë·ªânh ƒë·ªëi di·ªán c·ªßa t·ª© gi√°c."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "Trong t·ª© gi√°c $ABCD$, n·∫øu $\\widehat{A}$ v√† $\\widehat{B}$ l√† hai g√≥c b√π nhau (t·ªïng b·∫±ng $180^\\circ$), th√¨ ƒëi·ªÅu g√¨ c√≥ th·ªÉ x·∫£y ra?",
                options: [
                    { text: "C·∫°nh $AD$ song song v·ªõi c·∫°nh $BC$.", isCorrect: false, rationale: "N·∫øu $\\widehat{A}$ v√† $\\widehat{D}$ b√π nhau, th√¨ $AB \\parallel CD$." },
                    { text: "C·∫°nh $AB$ song song v·ªõi c·∫°nh $CD$.", isCorrect: false, rationale: "Hai g√≥c b√π nhau k·ªÅ nhau kh√¥ng ƒë·∫£m b·∫£o c√≥ c·∫∑p c·∫°nh song song." },
                    { text: "C·∫°nh $AD$ v√† $BC$ kh√¥ng c√≥ m·ªëi quan h·ªá ƒë·∫∑c bi·ªát.", isCorrect: true, rationale: "Vi·ªác hai g√≥c k·ªÅ b√π nhau kh√¥ng gi√∫p suy ra m·ªëi quan h·ªá song song c·ªßa hai c·∫°nh ƒë·ªëi c√≤n l·∫°i." },
                    { text: "C·∫£ b·ªën g√≥c ƒë·ªÅu b·∫±ng $90^\\circ$.", isCorrect: false, rationale: "ƒêi·ªÅu n√†y ch·ªâ x·∫£y ra trong h√¨nh ch·ªØ nh·∫≠t." }
                ],
                hint: "ƒêi·ªÅu ki·ªán ƒë·ªÉ c√≥ c·∫°nh song song l√† t·ªïng hai g√≥c *c√πng ph√≠a* (k·ªÅ c·∫°nh b√™n) b·∫±ng $180^\\circ$."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "S·ªë ƒëo g√≥c ngo√†i t·∫°i m·ªôt ƒë·ªânh c·ªßa t·ª© gi√°c l√† $100^\\circ$. T√≠nh s·ªë ƒëo g√≥c trong t·∫°i ƒë·ªânh ƒë√≥.",
                options: [
                    { text: "$80^\\circ$", isCorrect: true, rationale: "G√≥c trong v√† g√≥c ngo√†i t·∫°i c√πng m·ªôt ƒë·ªânh l√† hai g√≥c k·ªÅ b√π, n√™n t·ªïng c·ªßa ch√∫ng l√† $180^\\circ$. G√≥c trong l√† $180^\\circ - 100^\\circ = 80^\\circ$." },
                    { text: "$100^\\circ$", isCorrect: false, rationale: "ƒê√¢y l√† s·ªë ƒëo g√≥c ngo√†i." },
                    { text: "$90^\\circ$", isCorrect: false, rationale: "Gi√° tr·ªã sai, ch·ªâ ƒë√∫ng n·∫øu g√≥c ngo√†i l√† $90^\\circ$." },
                    { text: "$260^\\circ$", isCorrect: false, rationale: "T√≠nh to√°n sai." }
                ],
                hint: "G√≥c trong v√† g√≥c ngo√†i t·∫°i m·ªôt ƒë·ªânh l√† hai g√≥c k·ªÅ b√π."
            },
            // --- 6 C√ÇU NH·∫¨N BI·∫æT (c√≤n l·∫°i) ---
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "Cho t·ª© gi√°c $IJKL$. C·∫∑p c·∫°nh ƒë·ªëi nhau l√†:",
                options: [
                    { text: "$IJ$ v√† $JK$", isCorrect: false, rationale: "ƒê√¢y l√† hai c·∫°nh k·ªÅ nhau." },
                    { text: "$KL$ v√† $LI$", isCorrect: false, rationale: "ƒê√¢y l√† hai c·∫°nh k·ªÅ nhau." },
                    { text: "$IJ$ v√† $IL$", isCorrect: false, rationale: "ƒê√¢y l√† hai c·∫°nh k·ªÅ nhau." },
                    { text: "$IJ$ v√† $LK$", isCorrect: true, rationale: "Hai c·∫°nh ƒë·ªëi nhau l√† hai c·∫°nh kh√¥ng c√≥ ƒëi·ªÉm chung, v√≠ d·ª• $IJ$ v√† $LK$." }
                ],
                hint: "C·∫∑p c·∫°nh ƒë·ªëi nhau l√† c·∫∑p c·∫°nh kh√¥ng c√≥ ƒë·ªânh chung."
            }
        ];

        // Bi·∫øn tr·∫°ng th√°i tr√≤ ch∆°i
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;

        // L·∫•y c√°c ph·∫ßn t·ª≠ DOM
        const startScreen = document.getElementById('start-screen');
        const quizContent = document.getElementById('quiz-content');
        const resultScreen = document.getElementById('result-screen');
        const startButton = document.getElementById('start-button');
        const restartButton = document.getElementById('restart-button');
        const questionText = document.getElementById('question-text');
        const difficultyLevel = document.getElementById('difficulty-level');
        const answerOptionsContainer = document.getElementById('answer-options');
        const rationaleBox = document.getElementById('rationale-box');
        const rationaleText = document.getElementById('rationale-text');
        const nextButton = document.getElementById('next-button');
        const progressBar = document.getElementById('progress');
        const scoreDisplay = document.getElementById('score-display');
        const resultMessage = document.getElementById('result-message');
        const confettiEmitter = document.getElementById('confetti-emitter');

        // H√†m ph√°t √¢m thanh ch√∫c m·ª´ng (Web Audio API)
        function playCorrectSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(600, audioContext.currentTime); // Chime pitch

                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.5, audioContext.currentTime + 0.01);
                gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.3);

                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.3);
            } catch (error) {
                console.error("Kh√¥ng th·ªÉ ph√°t √¢m thanh: ", error);
            }
        }

        // H√†m t·∫°o hi·ªáu ·ª©ng ph√°o hoa
        function createConfetti() {
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#00bcd4', '#009688', '#4caf50', '#ffeb3b', '#ff9800', '#ff5722'];
            const count = 30;
            const containerWidth = confettiEmitter.offsetWidth;
            const containerHeight = confettiEmitter.offsetHeight;

            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti confetti-visible';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                // V·ªã tr√≠ xu·∫•t ph√°t t·ª´ gi·ªØa m√†n h√¨nh quiz
                const x = (containerWidth / 2) + (Math.random() * 200 - 100);
                const y = (containerHeight / 2) + (Math.random() * 100 - 50);
                
                confetti.style.left = `${x}px`;
                confetti.style.top = `${y}px`;
                
                // Ho·∫°t ·∫£nh (Animation)
                const angle = Math.random() * 360;
                const distance = 500 + Math.random() * 300;
                const duration = 1.5 + Math.random();

                confetti.animate([
                    { transform: `translate(0, 0) rotate(0deg)`, opacity: 1 },
                    { transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) rotate(${Math.random() * 1080}deg)`, opacity: 0 }
                ], {
                    duration: duration * 1000,
                    easing: 'ease-out',
                    fill: 'forwards'
                });

                confettiEmitter.appendChild(confetti);

                setTimeout(() => {
                    confetti.remove();
                }, duration * 1000 + 50);
            }
        }

        // H√†m hi·ªÉn th·ªã c√¢u h·ªèi
        function displayQuestion() {
            rationaleBox.classList.add('hidden');
            nextButton.classList.add('hidden');
            answerOptionsContainer.innerHTML = '';
            isAnswered = false;

            if (currentQuestionIndex < quizQuestions.length) {
                const currentQ = quizQuestions[currentQuestionIndex];
                
                // C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh
                const progressPercentage = ((currentQuestionIndex) / quizQuestions.length) * 100;
                progressBar.style.width = `${progressPercentage}%`;
                
                questionText.innerHTML = `C√¢u ${currentQuestionIndex + 1}/${quizQuestions.length}: ${currentQ.question}`;
                difficultyLevel.textContent = `M·ª©c ƒë·ªô: ${currentQ.level}`;

                currentQ.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'option-button w-full text-left p-3 rounded-lg border-2 border-red-200 bg-white text-gray-700 font-medium hover:bg-red-100 transition duration-150';
                    button.innerHTML = `<span>${String.fromCharCode(65 + index)}. </span>${option.text}`; // A, B, C, D
                    button.onclick = () => handleAnswer(button, option.isCorrect, currentQ.options, currentQ.hint, currentQ.question, option.rationale);
                    answerOptionsContainer.appendChild(button);
                });
            } else {
                showResult();
            }
        }

        // H√†m x·ª≠ l√Ω tr·∫£ l·ªùi
        function handleAnswer(selectedButton, isCorrect, options, hint, question, rationale) {
            if (isAnswered) return;
            isAnswered = true;

            // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ c√°c n√∫t
            const allButtons = answerOptionsContainer.querySelectorAll('button');
            allButtons.forEach(btn => btn.disabled = true);

            // T√¨m v√† ƒë√°nh d·∫•u ƒë√°p √°n ƒë√∫ng/sai
            options.forEach((option, index) => {
                const btn = allButtons[index];
                if (option.isCorrect) {
                    btn.classList.add('correct-answer');
                    btn.classList.remove('bg-white', 'hover:bg-red-100');
                } else if (btn === selectedButton && !option.isCorrect) {
                    btn.classList.add('incorrect-answer');
                    btn.classList.remove('bg-white', 'hover:bg-red-100');
                }
            });

            // Hi·ªÉn th·ªã gi·∫£i th√≠ch
            rationaleText.textContent = rationale;
            rationaleBox.classList.remove('hidden');

            // X·ª≠ l√Ω logic ƒë√∫ng/sai
            if (isCorrect) {
                score++;
                playCorrectSound();
                createConfetti();
                // Th√™m bi·ªÉu t∆∞·ª£ng ch√∫c m·ª´ng
                selectedButton.innerHTML += ' <span class="ml-2">üéâüòä</span>';
            } else {
                selectedButton.innerHTML += ' <span class="ml-2">‚ùåüòî</span>';
            }

            nextButton.classList.remove('hidden');
        }

        // H√†m chuy·ªÉn sang c√¢u h·ªèi ti·∫øp theo
        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion();
        }

        // H√†m hi·ªÉn th·ªã k·∫øt qu·∫£
        function showResult() {
            quizContent.classList.add('hidden');
            startScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            const total = quizQuestions.length;
            scoreDisplay.textContent = score;
            let message = '';

            if (score === total) {
                message = "Xu·∫•t s·∫Øc! B·∫°n ƒë√£ ƒë·∫°t ƒëi·ªÉm tuy·ªát ƒë·ªëi. B·∫°n l√† m·ªôt chuy√™n gia v·ªÅ T·ª© gi√°c!";
            } else if (score >= total * 0.8) {
                message = "R·∫•t t·ªët! B·∫°n c√≥ ki·∫øn th·ª©c v·ªØng v√†ng v·ªÅ T·ª© gi√°c.";
            } else if (score >= total * 0.5) {
                message = "T·ªët! B·∫°n ƒë√£ n·∫Øm ƒë∆∞·ª£c nh·ªØng ki·∫øn th·ª©c c∆° b·∫£n. H√£y √¥n t·∫≠p th√™m c√°c c√¢u v·∫≠n d·ª•ng nh√©.";
            } else {
                message = "B·∫°n c·∫ßn c·ªë g·∫Øng h∆°n. H√£y xem l·∫°i c√°c ƒë·ªãnh nghƒ©a v√† quy t·∫Øc t√≠nh t·ªïng g√≥c trong T·ª© gi√°c nh√©!";
            }
            resultMessage.textContent = message;
            
            // C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh l·∫ßn cu·ªëi
            progressBar.style.width = `100%`;
        }

        // H√†m kh·ªüi ƒë·ªông l·∫°i tr√≤ ch∆°i
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            isAnswered = false;
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizContent.classList.remove('hidden');
            displayQuestion();
        }

        // G√°n s·ª± ki·ªán cho c√°c n√∫t
        startButton.addEventListener('click', startQuiz);
        restartButton.addEventListener('click', startQuiz);
        nextButton.addEventListener('click', nextQuestion);

        // Kh·ªüi t·∫°o tr·∫°ng th√°i ban ƒë·∫ßu (ƒë·∫£m b·∫£o thanh ti·∫øn tr√¨nh r·ªóng)
        progressBar.style.width = '0%';
        
        // K√≠ch ho·∫°t tr√≤ ch∆°i tr√™n window.onload
        window.onload = () => {
             // ƒê·∫∑t l·∫°i confetti emitter t·∫°i v·ªã tr√≠ t∆∞∆°ng ƒë·ªëi
             const rect = quizContent.getBoundingClientRect();
             confettiEmitter.style.position = 'absolute';
             confettiEmitter.style.top = `${rect.top}px`;
             confettiEmitter.style.left = `${rect.left}px`;
             confettiEmitter.style.width = `${rect.width}px`;
             confettiEmitter.style.height = `${rect.height}px`;
        };
    </script>
</body>
</html>
