<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thá»£ SÄƒn Tam GiÃ¡c â€“ ToÃ¡n 7</title>

<!-- ===== MathJax CHUáº¨N THá»¢ SÄ‚N KHO BÃU ===== -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  font-family:'Quicksand',sans-serif;
  background:linear-gradient(135deg,#a8ff78,#78ffd6);
  min-height:100vh;
}
.title-font{font-family:'Fredoka One',cursive}
.card{
  background:#fff;
  border-radius:2rem;
  box-shadow:0 20px 40px rgba(0,0,0,.15);
}
.option:hover{transform:scale(1.02)}
</style>
</head>

<body class="p-4 flex items-center justify-center">

<div class="max-w-3xl w-full card p-8">

<!-- START -->
<div id="start" class="text-center">
  <div class="text-7xl mb-4">ğŸ“</div>
  <h1 class="title-font text-4xl text-emerald-600 mb-4">
    THá»¢ SÄ‚N<br>TAM GIÃC
  </h1>
  <p class="text-gray-600 mb-8">
    ChÃ o má»«ng cÃ¡c em Ä‘áº¿n vá»›i lá»›p há»c cá»§a cÃ´ <b>Thu BÃ¬nh</b>!
  </p>
  <button onclick="startGame()"
    class="bg-emerald-500 text-white px-10 py-4 rounded-full text-xl font-bold">
    Báº®T Äáº¦U ğŸš€
  </button>
</div>

<!-- QUIZ -->
<div id="quiz" class="hidden">
  <div class="flex justify-between mb-4 font-bold">
    <div>CÃ¢u <span id="cur">1</span>/15</div>
    <div>Äiá»ƒm: <span id="score">0</span></div>
  </div>

  <div class="bg-gray-200 h-3 rounded-full mb-6">
    <div id="bar" class="bg-emerald-500 h-3 rounded-full"></div>
  </div>

  <div id="level" class="text-sm text-emerald-500 font-bold mb-2"></div>
  <div id="qtext" class="text-xl font-bold mb-6"></div>

  <div id="opts" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
</div>

<!-- FEEDBACK -->
<div id="fb" class="hidden fixed inset-0 flex items-center justify-center bg-black/40">
  <div class="card p-8 text-center max-w-md w-full">
    <div id="fb-icon" class="text-6xl mb-3"></div>
    <div id="fb-title" class="text-2xl font-bold mb-3"></div>
    <div id="fb-rat" class="bg-emerald-50 p-4 rounded-xl text-left italic"></div>
    <button onclick="nextQ()"
      class="mt-6 bg-emerald-500 text-white px-8 py-3 rounded-xl font-bold">
      TIáº¾P Tá»¤C â†’
    </button>
  </div>
</div>

<!-- END -->
<div id="end" class="hidden text-center">
  <div class="text-7xl mb-4">ğŸ‘‘</div>
  <h2 class="text-3xl font-bold text-emerald-600 mb-4">HOÃ€N THÃ€NH</h2>
  <p class="text-xl mb-6">Sá»‘ cÃ¢u Ä‘Ãºng: <b><span id="final">0</span>/15</b></p>
  <p id="rank" class="italic mb-8"></p>
  <button onclick="location.reload()"
    class="bg-gray-800 text-white px-8 py-3 rounded-xl font-bold">
    CHÆ I Láº I
  </button>
</div>

</div>

<script>
/* ===== RANDOM ===== */
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}}

const questions = [
/* ================= NHáº¬N BIáº¾T (6) ================= */
{
lvl:"Nháº­n biáº¿t",
q:"Tá»•ng sá»‘ Ä‘o ba gÃ³c trong má»™t tam giÃ¡c báº¥t kÃ¬ báº±ng:",
opts:["\\(90^\\circ\\)","\\(180^\\circ\\)","\\(270^\\circ\\)","\\(360^\\circ\\)"],
ans:1,
rat:"Theo Ä‘á»‹nh lÃ­, tá»•ng ba gÃ³c cá»§a má»™t tam giÃ¡c báº±ng \\(180^\\circ\\)."
},
{
lvl:"Nháº­n biáº¿t",
q:"Tam giÃ¡c cÃ³ má»™t gÃ³c báº±ng \\(90^\\circ\\) gá»i lÃ :",
opts:["Tam giÃ¡c nhá»n","Tam giÃ¡c vuÃ´ng","Tam giÃ¡c tÃ¹","Tam giÃ¡c cÃ¢n"],
ans:1,
rat:"Tam giÃ¡c cÃ³ má»™t gÃ³c vuÃ´ng gá»i lÃ  tam giÃ¡c vuÃ´ng."
},
{
lvl:"Nháº­n biáº¿t",
q:"Trong tam giÃ¡c vuÃ´ng, tá»•ng hai gÃ³c nhá»n báº±ng:",
opts:["\\(45^\\circ\\)","\\(60^\\circ\\)","\\(90^\\circ\\)","\\(180^\\circ\\)"],
ans:2,
rat:"VÃ¬ tá»•ng ba gÃ³c lÃ  \\(180^\\circ\\), trong Ä‘Ã³ gÃ³c vuÃ´ng lÃ  \\(90^\\circ\\)."
},
{
lvl:"Nháº­n biáº¿t",
q:"Tam giÃ¡c nhá»n lÃ  tam giÃ¡c cÃ³:",
opts:[
"CÃ³ má»™t gÃ³c nhá»n",
"CÃ³ hai gÃ³c nhá»n",
"Cáº£ ba gÃ³c Ä‘á»u nhá»n",
"CÃ³ má»™t gÃ³c vuÃ´ng"
],
ans:2,
rat:"Tam giÃ¡c nhá»n lÃ  tam giÃ¡c cÃ³ cáº£ ba gÃ³c Ä‘á»u nhá» hÆ¡n \\(90^\\circ\\)."
},
{
lvl:"Nháº­n biáº¿t",
q:"Má»™t tam giÃ¡c cÃ³ thá»ƒ cÃ³ tá»‘i Ä‘a bao nhiÃªu gÃ³c tÃ¹?",
opts:["1 gÃ³c","2 gÃ³c","3 gÃ³c","0 gÃ³c"],
ans:0,
rat:"Náº¿u cÃ³ 2 gÃ³c tÃ¹ thÃ¬ tá»•ng sá»‘ Ä‘o vÆ°á»£t quÃ¡ \\(180^\\circ\\), Ä‘iá»u nÃ y khÃ´ng thá»ƒ."
},
{
lvl:"Nháº­n biáº¿t",
q:"Cho \\(\\triangle ABC\\) cÃ³ \\(\\widehat{A}=50^\\circ\\), \\(\\widehat{B}=70^\\circ\\). Khi Ä‘Ã³ \\(\\widehat{C}\\) báº±ng:",
opts:["\\(50^\\circ\\)","\\(60^\\circ\\)","\\(70^\\circ\\)","\\(80^\\circ\\)"],
ans:1,
rat:"\\(\\widehat{C}=180^\\circ-(50^\\circ+70^\\circ)=60^\\circ\\)."
},

/* ================= THÃ”NG HIá»‚U (5) ================= */
{
lvl:"ThÃ´ng hiá»ƒu",
q:"Cho \\(\\triangle ABC\\) vuÃ´ng táº¡i \\(A\\). Náº¿u \\(\\widehat{B}=40^\\circ\\) thÃ¬ \\(\\widehat{C}\\) báº±ng:",
opts:["\\(40^\\circ\\)","\\(50^\\circ\\)","\\(90^\\circ\\)","\\(140^\\circ\\)"],
ans:1,
rat:"Trong tam giÃ¡c vuÃ´ng: \\(\\widehat{B}+\\widehat{C}=90^\\circ\\)."
},
{
lvl:"ThÃ´ng hiá»ƒu",
q:"Cho \\(\\triangle MNP\\) cÃ³ \\(\\widehat{M}=100^\\circ\\) vÃ  \\(\\widehat{N}=\\widehat{P}\\). Khi Ä‘Ã³ \\(\\widehat{N}\\) báº±ng:",
opts:["\\(40^\\circ\\)","\\(50^\\circ\\)","\\(80^\\circ\\)","\\(100^\\circ\\)"],
ans:0,
rat:"Hai gÃ³c cÃ²n láº¡i cÃ³ tá»•ng \\(80^\\circ\\), má»—i gÃ³c báº±ng \\(40^\\circ\\)."
},
{
lvl:"ThÃ´ng hiá»ƒu",
q:"Má»™t tam giÃ¡c cÃ³ ba gÃ³c báº±ng nhau thÃ¬ má»—i gÃ³c báº±ng:",
opts:["\\(45^\\circ\\)","\\(60^\\circ\\)","\\(90^\\circ\\)","\\(120^\\circ\\)"],
ans:1,
rat:"\\(180^\\circ : 3 = 60^\\circ\\)."
},
{
lvl:"ThÃ´ng hiá»ƒu",
q:"Cho \\(\\triangle ABC\\) cÃ³ \\(\\widehat{A}:\\widehat{B}:\\widehat{C}=1:2:3\\). Tam giÃ¡c Ä‘Ã³ lÃ :",
opts:["Tam giÃ¡c nhá»n","Tam giÃ¡c vuÃ´ng","Tam giÃ¡c tÃ¹","Tam giÃ¡c cÃ¢n"],
ans:1,
rat:"GÃ³c lá»›n nháº¥t báº±ng \\(90^\\circ\\) nÃªn lÃ  tam giÃ¡c vuÃ´ng."
},
{
lvl:"ThÃ´ng hiá»ƒu",
q:"Cho \\(\\triangle ABC\\) vuÃ´ng táº¡i \\(A\\), biáº¿t \\(\\widehat{B}=2\\widehat{C}\\). Khi Ä‘Ã³ \\(\\widehat{B}\\) báº±ng:",
opts:["\\(30^\\circ\\)","\\(60^\\circ\\)","\\(45^\\circ\\)","\\(20^\\circ\\)"],
ans:1,
rat:"\\(\\widehat{B}+\\widehat{C}=90^\\circ\\Rightarrow \\widehat{B}=60^\\circ\\)."
},

/* ================= Váº¬N Dá»¤NG (3) ================= */
{
lvl:"Váº­n dá»¥ng",
q:"Cho \\(\\triangle ABC\\) cÃ³ \\(\\widehat{A}=70^\\circ\\). Tia phÃ¢n giÃ¡c cá»§a \\(\\widehat{B}\\) vÃ  \\(\\widehat{C}\\) cáº¯t nhau táº¡i \\(I\\). TÃ­nh \\(\\widehat{BIC}\\).",
opts:["\\(110^\\circ\\)","\\(125^\\circ\\)","\\(140^\\circ\\)","\\(100^\\circ\\)"],
ans:1,
rat:"\\(\\widehat{BIC}=180^\\circ-\\dfrac{\\widehat{B}+\\widehat{C}}{2}=125^\\circ\\)."
},
{
lvl:"Váº­n dá»¥ng",
q:"Má»™t chiáº¿c thang dá»±a vÃ o tÆ°á»ng táº¡o thÃ nh tam giÃ¡c vuÃ´ng. Náº¿u gÃ³c giá»¯a thang vÃ  máº·t Ä‘áº¥t lÃ  \\(65^\\circ\\) thÃ¬ gÃ³c giá»¯a thang vÃ  tÆ°á»ng lÃ :",
opts:["\\(25^\\circ\\)","\\(35^\\circ\\)","\\(65^\\circ\\)","\\(90^\\circ\\)"],
ans:0,
rat:"Hai gÃ³c nhá»n trong tam giÃ¡c vuÃ´ng cÃ³ tá»•ng \\(90^\\circ\\)."
},
{
lvl:"Váº­n dá»¥ng",
q:"Cho \\(\\triangle ABC\\) cÃ³ gÃ³c ngoÃ i táº¡i \\(C\\) báº±ng \\(120^\\circ\\) vÃ  \\(\\widehat{A}=50^\\circ\\). TÃ­nh \\(\\widehat{B}\\).",
opts:["\\(50^\\circ\\)","\\(70^\\circ\\)","\\(60^\\circ\\)","\\(120^\\circ\\)"],
ans:1,
rat:"GÃ³c ngoÃ i báº±ng tá»•ng hai gÃ³c trong khÃ´ng ká»."
},

/* ================= Váº¬N Dá»¤NG CAO (1) ================= */
{
lvl:"Váº­n dá»¥ng cao",
q:"Cho \\(\\triangle ABC\\) cÃ³ \\(\\widehat{B}-\\widehat{C}=20^\\circ\\). Tia phÃ¢n giÃ¡c cá»§a \\(\\widehat{A}\\) cáº¯t \\(BC\\) táº¡i \\(D\\). TÃ­nh \\(\\widehat{ADC}\\).",
opts:["\\(80^\\circ\\)","\\(100^\\circ\\)","\\(90^\\circ\\)","\\(110^\\circ\\)"],
ans:1,
rat:"\\(\\widehat{ADC}=\\dfrac{180^\\circ+(\\widehat{B}-\\widehat{C})}{2}=100^\\circ\\)."
}
];
/* Ä‘á»§ 15 cÃ¢u â€“ cÃ´ cÃ³ thá»ƒ thÃªm tiáº¿p theo máº«u nÃ y */

shuffle(questions);

/* ===== STATE ===== */
let i=0, score=0, curOpts=[];

/* ===== START ===== */
function startGame(){
document.getElementById("start").classList.add("hidden");
document.getElementById("quiz").classList.remove("hidden");
showQ();
}

/* ===== SHOW ===== */
function showQ(){
const q=questions[i];
document.getElementById("cur").innerText=i+1;
document.getElementById("score").innerText=score;
document.getElementById("level").innerText="Má»©c Ä‘á»™: "+q.lvl;
document.getElementById("qtext").innerHTML=q.q;
document.getElementById("bar").style.width=`${i/questions.length*100}%`;

curOpts=q.opts.map((t,idx)=>({t,ok:idx===q.ans}));
shuffle(curOpts);

const box=document.getElementById("opts");
box.innerHTML="";
curOpts.forEach((o,k)=>{
const b=document.createElement("button");
b.className="option bg-white border p-4 rounded-xl font-bold";
b.innerHTML=`${String.fromCharCode(65+k)}. ${o.t}`;
b.onclick=()=>check(k);
box.appendChild(b);
});

MathJax.typesetPromise();
}

/* ===== CHECK ===== */
function check(k){
const ok=curOpts[k].ok;
document.getElementById("fb").classList.remove("hidden");

if(ok){
score++; confetti({particleCount:120,spread:70});
document.getElementById("fb-icon").innerText="ğŸ˜‡";
document.getElementById("fb-title").innerText="QuÃ¡ giá»i!";
}else{
document.getElementById("fb-icon").innerText="ğŸ¥º";
document.getElementById("fb-title").innerText="ChÆ°a Ä‘Ãºng!";
}

document.getElementById("fb-rat").innerHTML="<b>Giáº£i thÃ­ch:</b> "+questions[i].rat;
MathJax.typesetPromise();
}

/* ===== NEXT ===== */
function nextQ(){
document.getElementById("fb").classList.add("hidden");
i++;
i<questions.length?showQ():endGame();
}

/* ===== END ===== */
function endGame(){
document.getElementById("quiz").classList.add("hidden");
document.getElementById("end").classList.remove("hidden");
document.getElementById("final").innerText=score;
document.getElementById("rank").innerText=
score>=12?"Xuáº¥t sáº¯c! ğŸŒŸ":score>=8?"KhÃ¡ tá»‘t!":"Cá»‘ gáº¯ng thÃªm nhÃ©!";
}
</script>
</body>
</html>
