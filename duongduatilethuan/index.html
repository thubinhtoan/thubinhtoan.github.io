<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Si√™u Sao T·ªâ L·ªá Th·ª©c ‚Äì To√°n 7</title>

<!-- MathJax -->
<script>
window.MathJax = {
  tex: { inlineMath: [['\\(','\\)']] },
  svg: { fontCache: 'global' }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{
  font-family: 'Quicksand', sans-serif;
  background: radial-gradient(circle at top,#2d0f4e,#0f172a);
  min-height:100vh;
}
.glass-card{
  background: rgba(15,23,42,.92);
  border-radius: 2rem;
  box-shadow: 0 25px 60px rgba(0,0,0,.6);
  color:white;
}
.option-card{
  background: rgba(30,41,59,.9);
  border: 1px solid rgba(148,163,184,.3);
  transition:.25s;
}
.option-card:hover{
  border-color:#f472b6;
  transform:scale(1.03);
}
.progress-bar{transition:width .4s}
</style>
</head>

<body class="p-4 flex items-center justify-center">

<div class="max-w-3xl w-full glass-card p-8">

<!-- START -->
<div id="start-screen" class="text-center">
  <h1 class="text-4xl font-extrabold text-pink-400 mb-4">‚ú® SI√äU SAO T·ªà L·ªÜ ‚ú®</h1>
  <p class="mb-6 text-gray-300">15 th·ª≠ th√°ch T·ªâ l·ªá th·ª©c ‚Äì To√°n 7</p>
  <button onclick="startGame()"
    class="bg-pink-500 hover:bg-pink-400 text-white px-10 py-4 rounded-full text-xl font-bold">
    V√ÄO GAME üöÄ
  </button>
</div>

<!-- QUIZ -->
<div id="quiz-screen" class="hidden">
  <div class="flex justify-between font-bold mb-4 text-gray-200">
    <div>C√¢u <span id="current-q">1</span>/15</div>
    <div>ƒêi·ªÉm: <span id="score">0</span></div>
  </div>

  <div class="bg-slate-700 h-3 rounded-full mb-6">
    <div id="progress" class="bg-pink-400 h-3 rounded-full progress-bar"></div>
  </div>

  <div id="question-text" class="mb-8 text-center text-xl"></div>

  <div id="choices-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
</div>

<!-- FEEDBACK -->
<div id="feedback-modal" class="hidden fixed inset-0 flex items-center justify-center bg-black/60">
  <div class="glass-card p-8 text-center max-w-md w-full">
    <div id="fb-icon" class="text-5xl mb-3"></div>
    <h2 id="fb-title" class="text-2xl font-bold mb-2"></h2>
    <div id="fb-rationale" class="text-gray-200 mb-6"></div>
    <button onclick="nextQuestion()"
      class="bg-blue-500 hover:bg-blue-400 text-white px-8 py-3 rounded-xl font-bold">
      TI·∫æP T·ª§C ‚Üí
    </button>
  </div>
</div>

<!-- END -->
<div id="end-screen" class="hidden text-center">
  <h2 class="text-4xl font-extrabold text-yellow-400 mb-4">üèÜ HO√ÄN TH√ÄNH üèÜ</h2>
  <p class="text-xl">S·ªë c√¢u ƒë√∫ng:
    <span id="final-score" class="text-pink-400 font-bold text-3xl"></span>/15
  </p>
  <p id="performance-msg" class="mt-4 font-semibold"></p>
  <button onclick="location.reload()"
    class="mt-6 bg-green-500 hover:bg-green-400 text-white px-8 py-3 rounded-full font-bold">
    CH∆†I L·∫†I
  </button>
</div>

</div>

<script>
/* ================= DATA ================= */
let questions = [
{ q:"T·ªâ l·ªá th·ª©c l√† ƒë·∫≥ng th·ª©c n√†o?", options:["\\(a+b=c+d\\)","\\(a:b=c:d\\)","\\(ab=cd\\)","\\(a-b=c-d\\)"], correct:1,
  rationale:"Theo ƒë·ªãnh nghƒ©a, t·ªâ l·ªá th·ª©c l√† \\(a:b=c:d\\)." },

{ q:"ƒê·∫≥ng th·ª©c n√†o l√† t·ªâ l·ªá th·ª©c?", options:["\\(2+3=5\\)","\\(4:5=8:10\\)","\\(6-1=5\\)","\\(3\\times4=12\\)"], correct:1,
  rationale:"\\(4:5=8:10\\) l√† ƒë·∫≥ng th·ª©c hai t·ªâ s·ªë." },

{ q:"Trong \\(a:b=c:d\\), ta c√≥:", options:["\\(ab=cd\\)","\\(a+d=b+c\\)","\\(a\\times d=b\\times c\\)","\\(a-b=c-d\\)"], correct:2,
  rationale:"T√≠nh ch·∫•t c∆° b·∫£n: \\(a\\times d=b\\times c\\)." },

{ q:"N·∫øu \\(5:7=10:x\\) th√¨ \\(x=\\)?", options:["7","14","5","10"], correct:1,
  rationale:"\\(5x=70\\Rightarrow x=14\\)." },

{ q:"T·ªâ l·ªá th·ª©c ƒë√∫ng l√†:", options:["\\(3:4=6:7\\)","\\(2:5=4:10\\)","\\(4:6=3:5\\)","\\(5:6=15:20\\)"], correct:1,
  rationale:"Nh√¢n c·∫£ t·ª≠ v√† m·∫´u v·ªõi 2." },

{ q:"Trong \\(x/6=5/3\\), \\(x=\\)?", options:["10","15","2","30"], correct:0,
  rationale:"\\(x=6\\times5:3=10\\)." },

{ q:"N·∫øu \\(3:x=6:10\\) th√¨ \\(x=\\)?", options:["5","6","10","20"], correct:0,
  rationale:"\\(3\\times10=6x\\Rightarrow x=5\\)." },

{ q:"Cho \\(a:b=c:d\\), khi ƒë√≥ \\(b:a=\\)?", options:["\\(c:d\\)","\\(d:c\\)","\\(a:b\\)","\\(b:c\\)"], correct:1,
  rationale:"ƒê·∫£o t·ªâ s·ªë." },

{ q:"N·∫øu \\(7:x=21:15\\) th√¨ \\(x=\\)?", options:["3","4","5","6"], correct:2,
  rationale:"\\(7\\times15=21x\\Rightarrow x=5\\)." },

{ q:"T·ªâ l·ªá th·ª©c sai l√†:", options:["\\(4:6=8:12\\)","\\(5:7=10:14\\)","\\(6:8=9:12\\)","\\(3:5=6:9\\)"], correct:3,
  rationale:"Hai t·ªâ s·ªë kh√¥ng b·∫±ng nhau." },

{ q:"Chia 100000 theo t·ªâ l·ªá \\(2:3:5\\), ph·∫ßn th·ª© nh·∫•t l√†:", options:["20000","25000","30000","40000"], correct:0,
  rationale:"T·ªïng 10 ph·∫ßn ‚Üí \\(100000\\times2/10\\)." },

{ q:"N·∫øu \\(a:b=4:7\\), \\(a+b=33\\), \\(a=\\)?", options:["12","14","16","21"], correct:0,
  rationale:"\\(a=33\\times4/11=12\\)." },

{ q:"Cho \\(x:y=5:8\\), \\(y=24\\). \\(x=\\)?", options:["10","12","15","20"], correct:2,
  rationale:"\\(x=24\\times5/8=15\\)." },

{ q:"N·∫øu \\(6:9=8:d\\) th√¨ \\(d=\\)?", options:["12","10","9","8"], correct:0,
  rationale:"\\(6d=72\\Rightarrow d=12\\)." },

{ q:"T√¨m \\(x\\) bi·∫øt \\((x+1)/3=5/4\\)", options:["\\(11/4\\)","\\(15/4\\)","\\(7/4\\)","\\(5/4\\)"], correct:0,
  rationale:"\\(x+1=15/4\\Rightarrow x=11/4\\)." }
];

/* RANDOM */
questions.sort(()=>Math.random()-0.5);

let i=0, score=0;

/* START */
function startGame(){
 document.getElementById("start-screen").classList.add("hidden");
 document.getElementById("quiz-screen").classList.remove("hidden");
 showQuestion();
}

/* SHOW */
function showQuestion(){
 const q=questions[i];
 document.getElementById("current-q").innerText=i+1;
 document.getElementById("score").innerText=score;
 document.getElementById("progress").style.width=`${i/questions.length*100}%`;
 document.getElementById("question-text").innerHTML=q.q;

 const ctn=document.getElementById("choices-container");
 ctn.innerHTML="";
 let order=[0,1,2,3].sort(()=>Math.random()-0.5);

 order.forEach((k,idx)=>{
  const b=document.createElement("button");
  b.className="option-card py-4 rounded-xl text-lg font-bold";
  b.innerHTML=`<span class="text-pink-400 mr-2">${String.fromCharCode(65+idx)}.</span>${q.options[k]}`;
  b.onclick=()=>checkAnswer(k);
  ctn.appendChild(b);
 });

 MathJax.typesetPromise();
}

/* CHECK */
function checkAnswer(k){
 const q=questions[i];
 document.getElementById("feedback-modal").classList.remove("hidden");

 if(k===q.correct){
  score++; confetti({particleCount:120,spread:70});
  fb("üéâ","Ch√≠nh x√°c!");
 }else{
  fb("üòÖ","Ch∆∞a ƒë√∫ng!");
 }

 document.getElementById("fb-rationale").innerHTML="<b>Gi·∫£i th√≠ch:</b><br>"+q.rationale;
 MathJax.typesetPromise();
}

function fb(icon,title){
 document.getElementById("fb-icon").innerText=icon;
 document.getElementById("fb-title").innerText=title;
}

/* NEXT */
function nextQuestion(){
 document.getElementById("feedback-modal").classList.add("hidden");
 i++;
 if(i<questions.length) showQuestion();
 else showEnd();
}

/* END */
function showEnd(){
 document.getElementById("quiz-screen").classList.add("hidden");
 document.getElementById("end-screen").classList.remove("hidden");
 document.getElementById("final-score").innerText=score;
 document.getElementById("performance-msg").innerText=
  score===questions.length?"Xu·∫•t s·∫Øc! üåü":"C·ªë g·∫Øng th√™m nh√©!";
 confetti({particleCount:200,spread:160});
}
</script>

</body>
</html>
