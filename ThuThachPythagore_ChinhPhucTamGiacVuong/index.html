<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th·ª≠ Th√°ch Pythagore: Chinh Ph·ª•c Tam Gi√°c Vu√¥ng</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* T√πy ch·ªânh font cho ti·∫øng Vi·ªát */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .quiz-container {
            max-width: 900px;
        }
        .option-button {
            transition: all 0.2s;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        .option-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }
        .correct-answer {
            background-color: #4ade80 !important; /* green-400 */
            color: #166534 !important; /* green-800 */
            border-color: #16a34a !important; /* green-600 */
        }
        .incorrect-answer {
            background-color: #fca5a5 !important; /* red-300 */
            color: #b91c1c !important; /* red-700 */
            border-color: #ef4444 !important; /* red-500 */
        }
        /* Hi·ªáu ·ª©ng ph√°o hoa - Confetti */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: transparent;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s;
        }
        .confetti-visible {
            opacity: 1;
            transition: none;
        }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen flex items-center justify-center">

    <div id="quiz-app" class="quiz-container w-full bg-white p-6 md:p-10 rounded-xl shadow-2xl relative">
        <h1 class="text-3xl font-bold text-center text-indigo-700 mb-6">Th·ª≠ Th√°ch Pythagore: Chinh Ph·ª•c Tam Gi√°c Vu√¥ng</h1>
        <p id="difficulty-level" class="text-center text-sm font-medium text-gray-500 mb-4"></p>
        
        <!-- Kh·ªüi ƒë·ªông/K·∫øt qu·∫£ -->
        <div id="start-screen" class="text-center">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Ch√†o m·ª´ng ƒë·∫øn v·ªõi Ch∆∞∆°ng 3 - ƒê·ªãnh l√Ω Pythagore (To√°n 8)</h2>
            <p class="mb-6 text-gray-600">Tr·∫Øc nghi·ªám n√†y g·ªìm 15 c√¢u h·ªèi ƒë∆∞·ª£c x√¢y d·ª±ng theo 4 m·ª©c ƒë·ªô: Nh·∫≠n bi·∫øt (6), Th√¥ng hi·ªÉu (5), V·∫≠n d·ª•ng (3), V·∫≠n d·ª•ng cao (1).</p>
            <p class="mb-8 text-gray-600 font-medium">C√πng nhau chinh ph·ª•c ki·∫øn th·ª©c v√† nh·∫≠n nh·ªØng l·ªùi ch√∫c m·ª´ng ƒë·∫∑c bi·ªát khi tr·∫£ l·ªùi ƒë√∫ng nh√©!</p>
            <button id="start-button" class="px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105">B·∫Øt ƒê·∫ßu Th·ª≠ Th√°ch</button>
        </div>

        <!-- Ph·∫ßn Quiz -->
        <div id="quiz-content" class="hidden">
            <div id="progress-bar" class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                <div id="progress" class="bg-indigo-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>

            <div id="question-card" class="bg-indigo-50 p-6 rounded-xl border-t-4 border-indigo-500 mb-6">
                <p id="question-text" class="text-xl font-medium text-gray-800 mb-4"></p>
                <div id="answer-options" class="space-y-3">
                    <!-- C√°c n√∫t tr·∫£ l·ªùi s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
                </div>
            </div>

            <!-- Gi·∫£i th√≠ch (Rationale) -->
            <div id="rationale-box" class="hidden p-4 mt-4 rounded-lg bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800">
                <p class="font-semibold">Gi·∫£i th√≠ch:</p>
                <p id="rationale-text" class="mt-1 text-sm"></p>
            </div>

            <!-- N√∫t Ti·∫øp theo -->
            <button id="next-button" class="hidden w-full px-4 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-300 mt-6">C√¢u Ti·∫øp Theo</button>
        </div>

        <!-- M√†n h√¨nh k·∫øt qu·∫£ -->
        <div id="result-screen" class="hidden text-center">
            <h2 class="text-3xl font-bold text-indigo-700 mb-4">Ho√†n Th√†nh Th·ª≠ Th√°ch!</h2>
            <p class="text-5xl font-extrabold text-green-600 mb-6"><span id="score-display">0</span>/15</p>
            <p id="result-message" class="text-xl text-gray-700 mb-8"></p>
            <button id="restart-button" class="px-8 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-lg hover:bg-green-700 transition duration-300 transform hover:scale-105">L√†m L·∫°i</button>
        </div>

        <!-- Confetti Emitter -->
        <div id="confetti-emitter"></div>
    </div>

    <script>
        // D·ªØ li·ªáu 15 c√¢u h·ªèi
        const quizQuestions = [
            // --- 6 C√ÇU NH·∫¨N BI·∫æT ---
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "ƒê·ªãnh l√Ω Pythagore ph√°t bi·ªÉu r·∫±ng trong m·ªôt tam gi√°c vu√¥ng, b√¨nh ph∆∞∆°ng ƒë·ªô d√†i c·∫°nh huy·ªÅn b·∫±ng t·ªïng b√¨nh ph∆∞∆°ng ƒë·ªô d√†i hai c·∫°nh g√≥c vu√¥ng. C√¥ng th·ª©c ƒë√∫ng l√† g√¨?",
                options: [
                    { text: "$a^2 + b^2 = c^2$", isCorrect: true, rationale: "Trong tam gi√°c vu√¥ng, n·∫øu $a$ v√† $b$ l√† ƒë·ªô d√†i hai c·∫°nh g√≥c vu√¥ng v√† $c$ l√† ƒë·ªô d√†i c·∫°nh huy·ªÅn, th√¨ $a^2 + b^2 = c^2$." },
                    { text: "$a + b = c$", isCorrect: false, rationale: "ƒê·ªãnh l√Ω Pythagore li√™n quan ƒë·∫øn b√¨nh ph∆∞∆°ng ƒë·ªô d√†i c√°c c·∫°nh, kh√¥ng ph·∫£i t·ªïng tr·ª±c ti·∫øp." },
                    { text: "$c^2 - a^2 = b^2$", isCorrect: false, rationale: "C√¥ng th·ª©c n√†y ƒë√∫ng nh∆∞ng ch∆∞a ph·∫£i l√† ph√°t bi·ªÉu chu·∫©n c·ªßa ƒë·ªãnh l√Ω." },
                    { text: "$2a + 2b = 2c$", isCorrect: false, rationale: "ƒê√¢y l√† c√¥ng th·ª©c chu vi (sai), kh√¥ng ph·∫£i ƒê·ªãnh l√Ω Pythagore." }
                ],
                hint: "H√£y nh·ªõ ƒê·ªãnh l√Ω Pythagore li√™n quan ƒë·∫øn b√¨nh ph∆∞∆°ng ƒë·ªô d√†i c√°c c·∫°nh."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "Trong tam gi√°c vu√¥ng $\\triangle ABC$ t·∫°i $A$, c·∫°nh n√†o l√† c·∫°nh huy·ªÅn?",
                options: [
                    { text: "C·∫°nh $AB$", isCorrect: false, rationale: "C·∫°nh $AB$ l√† m·ªôt trong hai c·∫°nh g√≥c vu√¥ng." },
                    { text: "C·∫°nh $AC$", isCorrect: false, rationale: "C·∫°nh $AC$ l√† m·ªôt trong hai c·∫°nh g√≥c vu√¥ng." },
                    { text: "C·∫°nh $BC$", isCorrect: true, rationale: "C·∫°nh huy·ªÅn l√† c·∫°nh ƒë·ªëi di·ªán v·ªõi g√≥c vu√¥ng, trong tr∆∞·ªùng h·ª£p n√†y l√† c·∫°nh $BC$." },
                    { text: "C·∫°nh $AH$ (v·ªõi $H$ l√† ch√¢n ƒë∆∞·ªùng cao)", isCorrect: false, rationale: "C·∫°nh $AH$ l√† ƒë∆∞·ªùng cao, kh√¥ng ph·∫£i c·∫°nh huy·ªÅn." }
                ],
                hint: "C·∫°nh huy·ªÅn l√† c·∫°nh d√†i nh·∫•t v√† ƒë·ªëi di·ªán v·ªõi g√≥c vu√¥ng."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "M·ªôt tam gi√°c vu√¥ng c√≥ ƒë·ªô d√†i hai c·∫°nh g√≥c vu√¥ng l·∫ßn l∆∞·ª£t l√† $3\\text{ cm}$ v√† $4\\text{ cm}$. ƒê·ªô d√†i c·∫°nh huy·ªÅn l√† bao nhi√™u?",
                options: [
                    { text: "$5\\text{ cm}$", isCorrect: true, rationale: "√Åp d·ª•ng ƒë·ªãnh l√Ω Pythagore: $c^2 = 3^2 + 4^2 = 9 + 16 = 25$, suy ra $c = \\sqrt{25} = 5\\text{ cm}$." },
                    { text: "$7\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng tr·ª±c ti·∫øp c·ªßa hai c·∫°nh g√≥c vu√¥ng ($3+4$), kh√¥ng ph·∫£i c·∫°nh huy·ªÅn." },
                    { text: "$25\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† b√¨nh ph∆∞∆°ng ƒë·ªô d√†i c·∫°nh huy·ªÅn, kh√¥ng ph·∫£i ƒë·ªô d√†i c·∫°nh huy·ªÅn." },
                    { text: "$\\sqrt{7}\\text{ cm}$", isCorrect: false, rationale: "ƒê√°p √°n n√†y l√† $\\sqrt{3+4}$, l√† sai." }
                ],
                hint: "S·ª≠ d·ª•ng c√¥ng th·ª©c $c = \\sqrt{a^2 + b^2}$."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "Trong c√°c b·ªô ba s·ªë sau, b·ªô ba n√†o l√† b·ªô ba Pythagore?",
                options: [
                    { text: "$(2, 3, 4)$", isCorrect: false, rationale: "$2^2 + 3^2 = 4 + 9 = 13 \\ne 4^2 = 16$." },
                    { text: "$(5, 12, 13)$", isCorrect: true, rationale: "Ki·ªÉm tra: $5^2 + 12^2 = 25 + 144 = 169$, v√† $13^2 = 169$. V·∫≠y $5^2 + 12^2 = 13^2$." },
                    { text: "$(6, 8, 9)$", isCorrect: false, rationale: "$6^2 + 8^2 = 36 + 64 = 100 \\ne 9^2 = 81$." },
                    { text: "$(1, 2, 3)$", isCorrect: false, rationale: "$1^2 + 2^2 = 1 + 4 = 5 \\ne 3^2 = 9$." }
                ],
                hint: "M·ªôt b·ªô ba Pythagore $(a, b, c)$ ph·∫£i th·ªèa m√£n $a^2 + b^2 = c^2$."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "Cho $\\triangle MNP$ vu√¥ng t·∫°i $P$. C√¥ng th·ª©c t√≠nh ƒë·ªô d√†i c·∫°nh g√≥c vu√¥ng $MP$ theo hai c·∫°nh c√≤n l·∫°i l√†:",
                options: [
                    { text: "$MP^2 = MN^2 + NP^2$", isCorrect: false, rationale: "ƒê√¢y l√† c√¥ng th·ª©c t√≠nh c·∫°nh huy·ªÅn $MN$, kh√¥ng ph·∫£i c·∫°nh g√≥c vu√¥ng $MP$." },
                    { text: "$MP = MN - NP$", isCorrect: false, rationale: "ƒê·ªãnh l√Ω Pythagore li√™n quan ƒë·∫øn b√¨nh ph∆∞∆°ng ƒë·ªô d√†i c√°c c·∫°nh." },
                    { text: "$MP^2 = MN^2 - NP^2$", isCorrect: true, rationale: "C·∫°nh g√≥c vu√¥ng $MP$ ƒë∆∞·ª£c t√≠nh b·∫±ng cƒÉn b·∫≠c hai c·ªßa hi·ªáu b√¨nh ph∆∞∆°ng c·∫°nh huy·ªÅn $MN$ v√† c·∫°nh g√≥c vu√¥ng c√≤n l·∫°i $NP$." },
                    { text: "$MP^2 = NP^2 - MN^2$", isCorrect: false, rationale: "B√¨nh ph∆∞∆°ng c·∫°nh huy·ªÅn $MN$ ph·∫£i l·ªõn h∆°n b√¨nh ph∆∞∆°ng c·∫°nh g√≥c vu√¥ng $NP$." }
                ],
                hint: "C·∫°nh g√≥c vu√¥ng b·∫±ng cƒÉn b·∫≠c hai c·ªßa hi·ªáu b√¨nh ph∆∞∆°ng c·∫°nh huy·ªÅn v√† b√¨nh ph∆∞∆°ng c·∫°nh g√≥c vu√¥ng kia."
            },
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "Tam gi√°c c√≥ ƒë·ªô d√†i ba c·∫°nh l√† $6\\text{ cm}$, $8\\text{ cm}$ v√† $10\\text{ cm}$ c√≥ ph·∫£i l√† tam gi√°c vu√¥ng kh√¥ng?",
                options: [
                    { text: "L√† tam gi√°c vu√¥ng", isCorrect: true, rationale: "Ki·ªÉm tra: $6^2 + 8^2 = 36 + 64 = 100$, v√† $10^2 = 100$. V√¨ $6^2 + 8^2 = 10^2$, n√™n ƒë√¢y l√† tam gi√°c vu√¥ng theo ƒê·ªãnh l√Ω Pythagore ƒë·∫£o." },
                    { text: "Kh√¥ng l√† tam gi√°c vu√¥ng", isCorrect: false, rationale: "C·∫ßn ki·ªÉm tra xem t·ªïng b√¨nh ph∆∞∆°ng hai c·∫°nh nh·ªè c√≥ b·∫±ng b√¨nh ph∆∞∆°ng c·∫°nh l·ªõn nh·∫•t hay kh√¥ng." },
                    { text: "Ch·ªâ l√† tam gi√°c nh·ªçn", isCorrect: false, rationale: "Tam gi√°c nh·ªçn l√† tam gi√°c c√≥ ba g√≥c nh·ªçn." },
                    { text: "Ch·ªâ l√† tam gi√°c t√π", isCorrect: false, rationale: "Tam gi√°c t√π l√† tam gi√°c c√≥ m·ªôt g√≥c t√π." }
                ],
                hint: "S·ª≠ d·ª•ng ƒê·ªãnh l√Ω Pythagore ƒë·∫£o: ki·ªÉm tra xem $a^2 + b^2 = c^2$ c√≥ ƒë√∫ng kh√¥ng, v·ªõi $c$ l√† c·∫°nh l·ªõn nh·∫•t."
            },
            // --- 5 C√ÇU TH√îNG HI·ªÇU ---
            {
                level: "Th√¥ng hi·ªÉu",
                question: "M·ªôt tam gi√°c vu√¥ng c√≥ hai c·∫°nh g√≥c vu√¥ng l√† $5\\text{ cm}$ v√† $6\\text{ cm}$. ƒê·ªô d√†i c·∫°nh huy·ªÅn (l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn m∆∞·ªùi) l√†:",
                options: [
                    { text: "$7,8\\text{ cm}$", isCorrect: true, rationale: "T√≠nh to√°n: $c^2 = 5^2 + 6^2 = 25 + 36 = 61$. $c = \\sqrt{61} \\approx 7,81\\text{ cm}$. L√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn m∆∞·ªùi l√† $7,8\\text{ cm}$." },
                    { text: "$11\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng tr·ª±c ti·∫øp c·ªßa hai c·∫°nh ($5+6$), l√† sai." },
                    { text: "$7,1\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† $\\sqrt{5^2 + 4^2}$, nh·∫ßm l·∫´n trong t√≠nh to√°n." },
                    { text: "$8,0\\text{ cm}$", isCorrect: false, rationale: "L√†m tr√≤n kh√¥ng ch√≠nh x√°c." }
                ],
                hint: "K·∫øt qu·∫£ l√† m·ªôt s·ªë v√¥ t·ªâ, b·∫°n c·∫ßn t√≠nh cƒÉn b·∫≠c hai v√† l√†m tr√≤n ch√≠nh x√°c."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "Cho tam gi√°c vu√¥ng c√≥ c·∫°nh huy·ªÅn d√†i $17\\text{ cm}$ v√† m·ªôt c·∫°nh g√≥c vu√¥ng d√†i $8\\text{ cm}$. ƒê·ªô d√†i c·∫°nh g√≥c vu√¥ng c√≤n l·∫°i l√†:",
                options: [
                    { text: "$15\\text{ cm}$", isCorrect: true, rationale: "√Åp d·ª•ng ƒë·ªãnh l√Ω Pythagore: $a^2 = c^2 - b^2 = 17^2 - 8^2 = 289 - 64 = 225$. Suy ra $a = \\sqrt{225} = 15\\text{ cm}$." },
                    { text: "$9\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† hi·ªáu tr·ª±c ti·∫øp c·ªßa hai c·∫°nh ($17-8$), l√† sai." },
                    { text: "$12\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† k·∫øt qu·∫£ c·ªßa $\\sqrt{17^2 - 13^2}$, nh·∫ßm l·∫´n trong t√≠nh to√°n." },
                    { text: "$25\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† k·∫øt qu·∫£ c·ªßa $17+8$, l√† sai." }
                ],
                hint: "S·ª≠ d·ª•ng c√¥ng th·ª©c t√≠nh c·∫°nh g√≥c vu√¥ng: $a^2 = c^2 - b^2$."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "M·ªôt h√¨nh ch·ªØ nh·∫≠t c√≥ chi·ªÅu d√†i $12\\text{ m}$ v√† chi·ªÅu r·ªông $9\\text{ m}$. ƒê·ªô d√†i ƒë∆∞·ªùng ch√©o c·ªßa h√¨nh ch·ªØ nh·∫≠t l√† bao nhi√™u?",
                options: [
                    { text: "$15\\text{ m}$", isCorrect: true, rationale: "ƒê∆∞·ªùng ch√©o chia h√¨nh ch·ªØ nh·∫≠t th√†nh hai tam gi√°c vu√¥ng. √Åp d·ª•ng Pythagore: $d^2 = 12^2 + 9^2 = 144 + 81 = 225$. $d = \\sqrt{225} = 15\\text{ m}$." },
                    { text: "$18\\text{ m}$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng c·ªßa chi·ªÅu d√†i v√† chi·ªÅu r·ªông ($12+9$), l√† sai." },
                    { text: "$21\\text{ m}$", isCorrect: false, rationale: "Gi√° tr·ªã sai, kh√¥ng ph·∫£n √°nh m·ªëi quan h·ªá Pythagore." },
                    { text: "$16\\text{ m}$", isCorrect: false, rationale: "Gi√° tr·ªã sai, kh√¥ng ph·∫£n √°nh m·ªëi quan h·ªá Pythagore." }
                ],
                hint: "ƒê∆∞·ªùng ch√©o c·ªßa h√¨nh ch·ªØ nh·∫≠t ƒë√≥ng vai tr√≤ l√† c·∫°nh huy·ªÅn c·ªßa tam gi√°c vu√¥ng ƒë∆∞·ª£c t·∫°o b·ªüi hai c·∫°nh k·ªÅ."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "ƒê·ªô d√†i hai c·∫°nh g√≥c vu√¥ng c·ªßa m·ªôt tam gi√°c vu√¥ng l·∫ßn l∆∞·ª£t l√† $0,5\\text{ cm}$ v√† $1,2\\text{ cm}$. C·∫°nh huy·ªÅn d√†i bao nhi√™u?",
                options: [
                    { text: "$1,3\\text{ cm}$", isCorrect: true, rationale: "T√≠nh to√°n: $c^2 = (0,5)^2 + (1,2)^2 = 0,25 + 1,44 = 1,69$. $c = \\sqrt{1,69} = 1,3\\text{ cm}$." },
                    { text: "$1,7\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng tr·ª±c ti·∫øp c·ªßa hai c·∫°nh ($0,5+1,2$), l√† sai." },
                    { text: "$1,44\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† b√¨nh ph∆∞∆°ng c·ªßa $1,2$, l√† sai." },
                    { text: "$1,0\\text{ cm}$", isCorrect: false, rationale: "Gi√° tr·ªã sai, kh√¥ng ch√≠nh x√°c." }
                ],
                hint: "B·∫°n c·∫ßn c·∫©n th·∫≠n khi t√≠nh b√¨nh ph∆∞∆°ng v√† c·ªông c√°c s·ªë th·∫≠p ph√¢n."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "Ki·ªÉm tra xem tam gi√°c c√≥ ƒë·ªô d√†i ba c·∫°nh l√† $\\sqrt{10}\\text{ cm}$, $3\\text{ cm}$ v√† $1\\text{ cm}$ c√≥ ph·∫£i l√† tam gi√°c vu√¥ng kh√¥ng?",
                options: [
                    { text: "L√† tam gi√°c vu√¥ng", isCorrect: true, rationale: "Ki·ªÉm tra: $1^2 + 3^2 = 1 + 9 = 10$. C·∫°nh l·ªõn nh·∫•t l√† $\\sqrt{10}$. $(\\sqrt{10})^2 = 10$. V√¨ $1^2 + 3^2 = (\\sqrt{10})^2$, n√™n ƒë√¢y l√† tam gi√°c vu√¥ng." },
                    { text: "Kh√¥ng l√† tam gi√°c vu√¥ng", isCorrect: false, rationale: "C·∫ßn ki·ªÉm tra xem t·ªïng b√¨nh ph∆∞∆°ng hai c·∫°nh nh·ªè c√≥ b·∫±ng b√¨nh ph∆∞∆°ng c·∫°nh l·ªõn nh·∫•t hay kh√¥ng." },
                    { text: "Ch·ªâ l√† tam gi√°c nh·ªçn", isCorrect: false, rationale: "ƒê√¢y l√† m·ªôt tam gi√°c vu√¥ng." },
                    { text: "Kh√¥ng th·ªÉ x√°c ƒë·ªãnh", isCorrect: false, rationale: "C√≥ th·ªÉ x√°c ƒë·ªãnh ƒë∆∞·ª£c b·∫±ng ƒê·ªãnh l√Ω Pythagore ƒë·∫£o." }
                ],
                hint: "B√¨nh ph∆∞∆°ng c·ªßa $\\sqrt{a}$ l√† $a$. C·∫°nh l·ªõn nh·∫•t l√† $\\sqrt{10}$."
            },
            // --- 3 C√ÇU V·∫¨N D·ª§NG ---
            {
                level: "V·∫≠n d·ª•ng",
                question: "Tr√™n m·∫∑t ph·∫≥ng t·ªça ƒë·ªô $Oxy$, kho·∫£ng c√°ch gi·ªØa hai ƒëi·ªÉm $A(1, 2)$ v√† $B(5, 5)$ l√† bao nhi√™u?",
                options: [
                    { text: "$5$", isCorrect: true, rationale: "Kho·∫£ng c√°ch $AB$ l√† c·∫°nh huy·ªÅn c·ªßa tam gi√°c vu√¥ng c√≥ hai c·∫°nh g√≥c vu√¥ng l√† $|5-1|=4$ v√† $|5-2|=3$. $AB = \\sqrt{4^2 + 3^2} = \\sqrt{16+9} = \\sqrt{25} = 5$." },
                    { text: "$7$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng c·ªßa s·ª± thay ƒë·ªïi t·ªça ƒë·ªô ($4+3$), l√† sai." },
                    { text: "$\\sqrt{45}$", isCorrect: false, rationale: "K·∫øt qu·∫£ t√≠nh to√°n sai." },
                    { text: "$\\sqrt{17}$", isCorrect: false, rationale: "ƒê√¢y l√† $\\sqrt{(5-4)^2 + (5-1)^2}$, nh·∫ßm l·∫´n trong t√≠nh to√°n." }
                ],
                hint: "S·ª≠ d·ª•ng c√¥ng th·ª©c t√≠nh kho·∫£ng c√°ch gi·ªØa hai ƒëi·ªÉm, d·ª±a tr√™n ƒê·ªãnh l√Ω Pythagore."
            },
            {
                level: "V·∫≠n d·ª•ng",
                question: "Cho tam gi√°c c√¢n $ABC$ v·ªõi $AB = AC = 13\\text{ cm}$ v√† c·∫°nh ƒë√°y $BC = 10\\text{ cm}$. T√≠nh ƒë·ªô d√†i ƒë∆∞·ªùng cao $AH$ h·∫° t·ª´ ƒë·ªânh $A$ xu·ªëng c·∫°nh ƒë√°y $BC$.",
                options: [
                    { text: "$12\\text{ cm}$", isCorrect: true, rationale: "ƒê∆∞·ªùng cao $AH$ trong tam gi√°c c√¢n c≈©ng l√† ƒë∆∞·ªùng trung tuy·∫øn, n√™n $BH = BC/2 = 5\\text{ cm}$. Trong $\\triangle ABH$ vu√¥ng t·∫°i $H$: $AH^2 = AB^2 - BH^2 = 13^2 - 5^2 = 169 - 25 = 144$. $AH = \\sqrt{144} = 12\\text{ cm}$." },
                    { text: "$10\\text{ cm}$", isCorrect: false, rationale: "Gi√° tr·ªã n√†y b·∫±ng ƒë·ªô d√†i c·∫°nh ƒë√°y, l√† sai." },
                    { text: "$\\sqrt{194}\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† $\\sqrt{13^2+5^2}$, t√≠nh to√°n sai." },
                    { text: "$8\\text{ cm}$", isCorrect: false, rationale: "Gi√° tr·ªã t√≠nh to√°n sai." }
                ],
                hint: "ƒê∆∞·ªùng cao trong tam gi√°c c√¢n chia tam gi√°c ƒë√≥ th√†nh hai tam gi√°c vu√¥ng b·∫±ng nhau. C·∫°nh ƒë√°y ƒë∆∞·ª£c chia ƒë√¥i."
            },
            {
                level: "V·∫≠n d·ª•ng (Th·ª±c t·∫ø)",
                question: "M·ªôt chi·∫øc thang d√†i $5\\text{ m}$ ƒë∆∞·ª£c ƒë·∫∑t d·ª±a v√†o t∆∞·ªùng, ch√¢n thang c√°ch t∆∞·ªùng $3\\text{ m}$. H·ªèi thang ch·∫°m v√†o t∆∞·ªùng ·ªü ƒë·ªô cao bao nhi√™u m√©t so v·ªõi m·∫∑t ƒë·∫•t?",
                options: [
                    { text: "$4\\text{ m}$", isCorrect: true, rationale: "ƒê√¢y l√† m·ªôt tam gi√°c vu√¥ng v·ªõi c·∫°nh huy·ªÅn l√† thang ($5\\text{ m}$), m·ªôt c·∫°nh g√≥c vu√¥ng l√† kho·∫£ng c√°ch t·ª´ ch√¢n thang ƒë·∫øn t∆∞·ªùng ($3\\text{ m}$). ƒê·ªô cao $h = \\sqrt{5^2 - 3^2} = \\sqrt{25 - 9} = \\sqrt{16} = 4\\text{ m}$." },
                    { text: "$5\\text{ m}$", isCorrect: false, rationale: "ƒê·ªô cao kh√¥ng th·ªÉ b·∫±ng ƒë·ªô d√†i thang tr·ª´ khi thang ƒë·ª©ng th·∫≥ng." },
                    { text: "$8\\text{ m}$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng tr·ª±c ti·∫øp c·ªßa hai c·∫°nh ($5+3$), l√† sai." },
                    { text: "$16\\text{ m}$", isCorrect: false, rationale: "ƒê√¢y l√† b√¨nh ph∆∞∆°ng c·ªßa ƒë·ªô cao, l√† sai." }
                ],
                hint: "Chi·∫øc thang, m·∫∑t ƒë·∫•t v√† b·ª©c t∆∞·ªùng t·∫°o th√†nh m·ªôt tam gi√°c vu√¥ng. Thang l√† c·∫°nh huy·ªÅn."
            },
            // --- 1 C√ÇU V·∫¨N D·ª§NG CAO ---
            {
                level: "V·∫≠n d·ª•ng cao",
                question: "M·ªôt h√¨nh vu√¥ng $ABCD$ c√≥ c·∫°nh d√†i $4\\text{ cm}$. G·ªçi $M$ l√† trung ƒëi·ªÉm c·ªßa c·∫°nh $BC$. T√≠nh ƒë·ªô d√†i ƒëo·∫°n th·∫≥ng $AM$.",
                options: [
                    { text: "$2\\sqrt{5}\\text{ cm}$", isCorrect: true, rationale: "X√©t $\\triangle ABM$ vu√¥ng t·∫°i $B$. $AB = 4\\text{ cm}$, $BM = BC/2 = 4/2 = 2\\text{ cm}$. √Åp d·ª•ng Pythagore: $AM^2 = AB^2 + BM^2 = 4^2 + 2^2 = 16 + 4 = 20$. $AM = \\sqrt{20} = \\sqrt{4 \\cdot 5} = 2\\sqrt{5}\\text{ cm}$." },
                    { text: "$\\sqrt{20}\\text{ cm}$", isCorrect: false, rationale: "Gi√° tr·ªã ƒë√∫ng nh∆∞ng ch∆∞a ƒë∆∞·ª£c r√∫t g·ªçn." },
                    { text: "$2\\sqrt{3}\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† k·∫øt qu·∫£ sai, nh·∫ßm l·∫´n trong t√≠nh to√°n." },
                    { text: "$4\\text{ cm}$", isCorrect: false, rationale: "ƒê·ªô d√†i ƒëo·∫°n $AM$ ph·∫£i l·ªõn h∆°n c·∫°nh g√≥c vu√¥ng $BM$." }
                ],
                hint: "H√£y t·∫°o m·ªôt tam gi√°c vu√¥ng b·∫±ng c√°ch s·ª≠ d·ª•ng trung ƒëi·ªÉm $M$. C·∫°nh $AM$ s·∫Ω l√† c·∫°nh huy·ªÅn."
            },
            // --- 5 C√ÇU TH√îNG HI·ªÇU (c√≤n l·∫°i) ---
            {
                level: "Th√¥ng hi·ªÉu",
                question: "Cho $\\triangle ABC$ c√≥ $AB = 6\\text{ cm}$, $AC = 8\\text{ cm}$ v√† $BC = 10\\text{ cm}$. Di·ªán t√≠ch c·ªßa $\\triangle ABC$ l√† bao nhi√™u?",
                options: [
                    { text: "$24\\text{ cm}^2$", isCorrect: true, rationale: "Ki·ªÉm tra: $6^2 + 8^2 = 36 + 64 = 100$, v√† $10^2 = 100$. V√¨ $6^2 + 8^2 = 10^2$, $\\triangle ABC$ vu√¥ng t·∫°i $A$. Di·ªán t√≠ch l√† $S = \\frac{1}{2} \\cdot AB \\cdot AC = \\frac{1}{2} \\cdot 6 \\cdot 8 = 24\\text{ cm}^2$." },
                    { text: "$30\\text{ cm}^2$", isCorrect: false, rationale: "Nh·∫ßm l·∫´n khi t√≠nh di·ªán t√≠ch tam gi√°c th∆∞·ªùng." },
                    { text: "$48\\text{ cm}^2$", isCorrect: false, rationale: "ƒê√¢y l√† $6 \\cdot 8$, kh√¥ng ph·∫£i $\\frac{1}{2} \\cdot 6 \\cdot 8$." },
                    { text: "$12\\text{ cm}^2$", isCorrect: false, rationale: "T√≠nh to√°n sai." }
                ],
                hint: "ƒê·∫ßu ti√™n, s·ª≠ d·ª•ng ƒê·ªãnh l√Ω Pythagore ƒë·∫£o ƒë·ªÉ x√°c ƒë·ªãnh xem ƒë√≥ c√≥ ph·∫£i l√† tam gi√°c vu√¥ng kh√¥ng."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "M·ªôt con t√†u ƒëi t·ª´ ƒëi·ªÉm $A$ v·ªÅ ph√≠a B·∫Øc $12\\text{ km}$ ƒë·∫øn ƒëi·ªÉm $B$, sau ƒë√≥ r·∫Ω sang ph√≠a ƒê√¥ng ƒëi $5\\text{ km}$ ƒë·∫øn ƒëi·ªÉm $C$. Kho·∫£ng c√°ch t·ª´ ƒëi·ªÉm xu·∫•t ph√°t $A$ ƒë·∫øn ƒëi·ªÉm cu·ªëi $C$ l√† bao nhi√™u?",
                options: [
                    { text: "$13\\text{ km}$", isCorrect: true, rationale: "Qu√£ng ƒë∆∞·ªùng t·∫°o th√†nh tam gi√°c vu√¥ng $\\triangle ABC$ vu√¥ng t·∫°i $B$. Kho·∫£ng c√°ch $AC$ l√† c·∫°nh huy·ªÅn: $AC = \\sqrt{12^2 + 5^2} = \\sqrt{144 + 25} = \\sqrt{169} = 13\\text{ km}$." },
                    { text: "$17\\text{ km}$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng tr·ª±c ti·∫øp qu√£ng ƒë∆∞·ªùng ($12+5$), l√† sai." },
                    { text: "$15\\text{ km}$", isCorrect: false, rationale: "Gi√° tr·ªã sai, kh√¥ng ch√≠nh x√°c." },
                    { text: "$\\sqrt{119}\\text{ km}$", isCorrect: false, rationale: "ƒê√¢y l√† $\\sqrt{144 - 25}$, l√† sai." }
                ],
                hint: "H∆∞·ªõng B·∫Øc v√† h∆∞·ªõng ƒê√¥ng vu√¥ng g√≥c v·ªõi nhau, t·∫°o th√†nh m·ªôt tam gi√°c vu√¥ng."
            },
            {
                level: "Th√¥ng hi·ªÉu",
                question: "N·∫øu ƒë·ªô d√†i c·∫°nh g√≥c vu√¥ng c·ªßa m·ªôt tam gi√°c vu√¥ng c√¢n l√† $4\\text{ cm}$, th√¨ c·∫°nh huy·ªÅn d√†i bao nhi√™u?",
                options: [
                    { text: "$4\\sqrt{2}\\text{ cm}$", isCorrect: true, rationale: "Trong tam gi√°c vu√¥ng c√¢n, $a=b=4$. $c^2 = 4^2 + 4^2 = 16 + 16 = 32$. $c = \\sqrt{32} = \\sqrt{16 \\cdot 2} = 4\\sqrt{2}\\text{ cm}$." },
                    { text: "$8\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† t·ªïng tr·ª±c ti·∫øp c·ªßa hai c·∫°nh ($4+4$), l√† sai." },
                    { text: "$16\\text{ cm}$", isCorrect: false, rationale: "ƒê√¢y l√† $4^2$, l√† sai." },
                    { text: "$2\\sqrt{4}\\text{ cm}$", isCorrect: false, rationale: "T√≠nh to√°n sai." }
                ],
                hint: "Tam gi√°c vu√¥ng c√¢n c√≥ hai c·∫°nh g√≥c vu√¥ng b·∫±ng nhau."
            },
            // --- 6 C√ÇU NH·∫¨N BI·∫æT (c√≤n l·∫°i) ---
            {
                level: "Nh·∫≠n bi·∫øt",
                question: "ƒê·ªãnh l√Ω Pythagore ƒë·∫£o ƒë∆∞·ª£c d√πng ƒë·ªÉ l√†m g√¨?",
                options: [
                    { text: "T√≠nh di·ªán t√≠ch tam gi√°c b·∫•t k·ª≥.", isCorrect: false, rationale: "ƒê·ªãnh l√Ω Pythagore ƒë·∫£o ƒë∆∞·ª£c d√πng ƒë·ªÉ ki·ªÉm tra t√≠nh vu√¥ng g√≥c." },
                    { text: "X√°c ƒë·ªãnh m·ªôt tam gi√°c l√† tam gi√°c vu√¥ng hay kh√¥ng.", isCorrect: true, rationale: "N·∫øu t·ªïng b√¨nh ph∆∞∆°ng hai c·∫°nh b·∫±ng b√¨nh ph∆∞∆°ng c·∫°nh c√≤n l·∫°i, th√¨ ƒë√≥ l√† tam gi√°c vu√¥ng." },
                    { text: "T√≠nh ƒë·ªô d√†i ƒë∆∞·ªùng cao trong tam gi√°c.", isCorrect: false, rationale: "C·∫ßn ƒê·ªãnh l√Ω Pythagore ho·∫∑c c√°c c√¥ng th·ª©c kh√°c cho vi·ªác n√†y." },
                    { text: "T√¨m ƒë·ªô l·ªõn c·ªßa c√°c g√≥c trong tam gi√°c.", isCorrect: false, rationale: "C·∫ßn c√°c c√¥ng th·ª©c l∆∞·ª£ng gi√°c cho vi·ªác n√†y." }
                ],
                hint: "ƒê·ªãnh l√Ω ƒë·∫£o gi√∫p x√°c nh·∫≠n t√≠nh ch·∫•t c·ªßa h√¨nh h·ªçc ph·∫≥ng."
            }
        ];

        // Bi·∫øn tr·∫°ng th√°i tr√≤ ch∆°i
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;

        // L·∫•y c√°c ph·∫ßn t·ª≠ DOM
        const startScreen = document.getElementById('start-screen');
        const quizContent = document.getElementById('quiz-content');
        const resultScreen = document.getElementById('result-screen');
        const startButton = document.getElementById('start-button');
        const restartButton = document.getElementById('restart-button');
        const questionText = document.getElementById('question-text');
        const difficultyLevel = document.getElementById('difficulty-level');
        const answerOptionsContainer = document.getElementById('answer-options');
        const rationaleBox = document.getElementById('rationale-box');
        const rationaleText = document.getElementById('rationale-text');
        const nextButton = document.getElementById('next-button');
        const progressBar = document.getElementById('progress');
        const scoreDisplay = document.getElementById('score-display');
        const resultMessage = document.getElementById('result-message');
        const confettiEmitter = document.getElementById('confetti-emitter');

        // H√†m ph√°t √¢m thanh ch√∫c m·ª´ng (Web Audio API)
        function playCorrectSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(600, audioContext.currentTime); // Chime pitch

                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.5, audioContext.currentTime + 0.01);
                gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.3);

                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.3);
            } catch (error) {
                console.error("Kh√¥ng th·ªÉ ph√°t √¢m thanh: ", error);
            }
        }

        // H√†m t·∫°o hi·ªáu ·ª©ng ph√°o hoa
        function createConfetti() {
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#00bcd4', '#009688', '#4caf50', '#ffeb3b', '#ff9800', '#ff5722'];
            const count = 30;
            const containerWidth = confettiEmitter.offsetWidth;
            const containerHeight = confettiEmitter.offsetHeight;

            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti confetti-visible';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                // V·ªã tr√≠ xu·∫•t ph√°t t·ª´ gi·ªØa m√†n h√¨nh quiz
                const x = (containerWidth / 2) + (Math.random() * 200 - 100);
                const y = (containerHeight / 2) + (Math.random() * 100 - 50);
                
                confetti.style.left = `${x}px`;
                confetti.style.top = `${y}px`;
                
                // Ho·∫°t ·∫£nh (Animation)
                const angle = Math.random() * 360;
                const distance = 500 + Math.random() * 300;
                const duration = 1.5 + Math.random();

                confetti.animate([
                    { transform: `translate(0, 0) rotate(0deg)`, opacity: 1 },
                    { transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) rotate(${Math.random() * 1080}deg)`, opacity: 0 }
                ], {
                    duration: duration * 1000,
                    easing: 'ease-out',
                    fill: 'forwards'
                });

                confettiEmitter.appendChild(confetti);

                setTimeout(() => {
                    confetti.remove();
                }, duration * 1000 + 50);
            }
        }

        // H√†m hi·ªÉn th·ªã c√¢u h·ªèi
        function displayQuestion() {
            rationaleBox.classList.add('hidden');
            nextButton.classList.add('hidden');
            answerOptionsContainer.innerHTML = '';
            isAnswered = false;

            if (currentQuestionIndex < quizQuestions.length) {
                const currentQ = quizQuestions[currentQuestionIndex];
                
                // C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh
                const progressPercentage = ((currentQuestionIndex) / quizQuestions.length) * 100;
                progressBar.style.width = `${progressPercentage}%`;
                
                questionText.innerHTML = `C√¢u ${currentQuestionIndex + 1}/${quizQuestions.length}: ${currentQ.question}`;
                difficultyLevel.textContent = `M·ª©c ƒë·ªô: ${currentQ.level}`;

                currentQ.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'option-button w-full text-left p-3 rounded-lg border-2 border-indigo-200 bg-white text-gray-700 font-medium hover:bg-indigo-100 transition duration-150';
                    button.innerHTML = `<span>${String.fromCharCode(65 + index)}. </span>${option.text}`; // A, B, C, D
                    button.onclick = () => handleAnswer(button, option.isCorrect, currentQ.options, currentQ.hint, currentQ.question, option.rationale);
                    answerOptionsContainer.appendChild(button);
                });
            } else {
                showResult();
            }
        }

        // H√†m x·ª≠ l√Ω tr·∫£ l·ªùi
        function handleAnswer(selectedButton, isCorrect, options, hint, question, rationale) {
            if (isAnswered) return;
            isAnswered = true;

            // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ c√°c n√∫t
            const allButtons = answerOptionsContainer.querySelectorAll('button');
            allButtons.forEach(btn => btn.disabled = true);

            // T√¨m v√† ƒë√°nh d·∫•u ƒë√°p √°n ƒë√∫ng/sai
            options.forEach((option, index) => {
                const btn = allButtons[index];
                if (option.isCorrect) {
                    btn.classList.add('correct-answer');
                    btn.classList.remove('bg-white', 'hover:bg-indigo-100');
                } else if (btn === selectedButton && !option.isCorrect) {
                    btn.classList.add('incorrect-answer');
                    btn.classList.remove('bg-white', 'hover:bg-indigo-100');
                }
            });

            // Hi·ªÉn th·ªã gi·∫£i th√≠ch
            rationaleText.textContent = rationale;
            rationaleBox.classList.remove('hidden');

            // X·ª≠ l√Ω logic ƒë√∫ng/sai
            if (isCorrect) {
                score++;
                playCorrectSound();
                createConfetti();
                // Thay th·∫ø emoji m·∫∑t c∆∞·ªùi cho tung hoa
                selectedButton.innerHTML += ' <span class="ml-2">üéâüòä</span>';
            } else {
                selectedButton.innerHTML += ' <span class="ml-2">‚ùåüòî</span>';
            }

            nextButton.classList.remove('hidden');
        }

        // H√†m chuy·ªÉn sang c√¢u h·ªèi ti·∫øp theo
        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion();
        }

        // H√†m hi·ªÉn th·ªã k·∫øt qu·∫£
        function showResult() {
            quizContent.classList.add('hidden');
            startScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            const total = quizQuestions.length;
            scoreDisplay.textContent = score;
            let message = '';

            if (score === total) {
                message = "Xu·∫•t s·∫Øc! B·∫°n ƒë√£ ƒë·∫°t ƒëi·ªÉm tuy·ªát ƒë·ªëi. B·∫°n l√† m·ªôt chuy√™n gia v·ªÅ ƒê·ªãnh l√Ω Pythagore!";
            } else if (score >= total * 0.8) {
                message = "R·∫•t t·ªët! B·∫°n c√≥ ki·∫øn th·ª©c v·ªØng v√†ng v·ªÅ ƒê·ªãnh l√Ω Pythagore.";
            } else if (score >= total * 0.5) {
                message = "T·ªët! B·∫°n ƒë√£ n·∫Øm ƒë∆∞·ª£c nh·ªØng ki·∫øn th·ª©c c∆° b·∫£n. H√£y √¥n t·∫≠p th√™m c√°c c√¢u v·∫≠n d·ª•ng nh√©.";
            } else {
                message = "B·∫°n c·∫ßn c·ªë g·∫Øng h∆°n. H√£y xem l·∫°i c√°c c√¥ng th·ª©c v√† c√°ch √°p d·ª•ng ƒê·ªãnh l√Ω Pythagore nh√©!";
            }
            resultMessage.textContent = message;
            
            // C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh l·∫ßn cu·ªëi
            progressBar.style.width = `100%`;
        }

        // H√†m kh·ªüi ƒë·ªông l·∫°i tr√≤ ch∆°i
        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            isAnswered = false;
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizContent.classList.remove('hidden');
            displayQuestion();
        }

        // G√°n s·ª± ki·ªán cho c√°c n√∫t
        startButton.addEventListener('click', startQuiz);
        restartButton.addEventListener('click', startQuiz);
        nextButton.addEventListener('click', nextQuestion);

        // Kh·ªüi t·∫°o tr·∫°ng th√°i ban ƒë·∫ßu (ƒë·∫£m b·∫£o thanh ti·∫øn tr√¨nh r·ªóng)
        progressBar.style.width = '0%';
        
        // K√≠ch ho·∫°t tr√≤ ch∆°i tr√™n window.onload
        window.onload = () => {
             // ƒê·∫∑t l·∫°i confetti emitter t·∫°i v·ªã tr√≠ t∆∞∆°ng ƒë·ªëi
             const rect = quizContent.getBoundingClientRect();
             confettiEmitter.style.position = 'absolute';
             confettiEmitter.style.top = `${rect.top}px`;
             confettiEmitter.style.left = `${rect.left}px`;
             confettiEmitter.style.width = `${rect.width}px`;
             confettiEmitter.style.height = `${rect.height}px`;
        };

    </script>
</body>
</html>
